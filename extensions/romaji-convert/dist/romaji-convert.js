var romajiDconvert=(()=>{function n(t){return a(t)||S(t)}function c(t){return"一"<=(t=t[0])&&t<="鿏"||"豈"<=t&&t<="﫿"||"㐀"<=t&&t<="䶿"}function r(e){for(let t=0;t<e.length;t++)if(a(e[t]))return!0;return!1}function l(e){for(let t=0;t<e.length;t++)if(S(e[t]))return!0;return!1}function f(e){for(let t=0;t<e.length;t++)if(c(e[t]))return!0;return!1}function h(e){for(let t=0;t<e.length;t++)if(C(e[t]))return!0;return!1}function p(t){return[...t].map(t=>"゠"<t&&t<"ヷ"?String.fromCharCode(t.charCodeAt(0)+U):t).join("")}function d(t){return[...t].map(t=>"぀"<t&&t<"゗"?String.fromCharCode(t.charCodeAt(0)+F):t).join("")}function y(n,t){var e,r={nippon:{"１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","０":"0","！":"!","“":'"',"”":'"',"＃":"#","＄":"$","％":"%","＆":"&","’":"'","（":"(","）":")","＝":"=","～":"~","｜":"|","＠":"@","‘":"`","＋":"+","＊":"*","；":";","：":":","＜":"<","＞":">","、":",","。":".","／":"/","？":"?","＿":"_","・":"･","「":'"',"」":'"',"｛":"{","｝":"}","￥":"\\","＾":"^","あ":"a","い":"i","う":"u","え":"e","お":"o","ア":"a","イ":"i","ウ":"u","エ":"e","オ":"o","か":"ka","き":"ki","く":"ku","け":"ke","こ":"ko","カ":"ka","キ":"ki","ク":"ku","ケ":"ke","コ":"ko","さ":"sa","し":"si","す":"su","せ":"se","そ":"so","サ":"sa","シ":"si","ス":"su","セ":"se","ソ":"so","た":"ta","ち":"ti","つ":"tu","て":"te","と":"to","タ":"ta","チ":"ti","ツ":"tu","テ":"te","ト":"to","な":"na","に":"ni","ぬ":"nu","ね":"ne","の":"no","ナ":"na","ニ":"ni","ヌ":"nu","ネ":"ne","ノ":"no","は":"ha","ひ":"hi","ふ":"hu","へ":"he","ほ":"ho","ハ":"ha","ヒ":"hi","フ":"hu","ヘ":"he","ホ":"ho","ま":"ma","み":"mi","む":"mu","め":"me","も":"mo","マ":"ma","ミ":"mi","ム":"mu","メ":"me","モ":"mo","や":"ya","ゆ":"yu","よ":"yo","ヤ":"ya","ユ":"yu","ヨ":"yo","ら":"ra","り":"ri","る":"ru","れ":"re","ろ":"ro","ラ":"ra","リ":"ri","ル":"ru","レ":"re","ロ":"ro","わ":"wa","ゐ":"wi","ゑ":"we","を":"wo","ワ":"wa","ヰ":"wi","ヱ":"we","ヲ":"wo","が":"ga","ぎ":"gi","ぐ":"gu","げ":"ge","ご":"go","ガ":"ga","ギ":"gi","グ":"gu","ゲ":"ge","ゴ":"go","ざ":"za","じ":"zi","ず":"zu","ぜ":"ze","ぞ":"zo","ザ":"za","ジ":"zi","ズ":"zu","ゼ":"ze","ゾ":"zo","だ":"da","ぢ":"di","づ":"du","で":"de","ど":"do","ダ":"da","ヂ":"di","ヅ":"du","デ":"de","ド":"do","ば":"ba","び":"bi","ぶ":"bu","べ":"be","ぼ":"bo","バ":"ba","ビ":"bi","ブ":"bu","ベ":"be","ボ":"bo","ぱ":"pa","ぴ":"pi","ぷ":"pu","ぺ":"pe","ぽ":"po","パ":"pa","ピ":"pi","プ":"pu","ペ":"pe","ポ":"po","きゃ":"kya","きゅ":"kyu","きょ":"kyo","しゃ":"sya","しゅ":"syu","しょ":"syo","ちゃ":"tya","ちゅ":"tyu","ちょ":"tyo","にゃ":"nya","にゅ":"nyu","にょ":"nyo","ひゃ":"hya","ひゅ":"hyu","ひょ":"hyo","みゃ":"mya","みゅ":"myu","みょ":"myo","りゃ":"rya","りゅ":"ryu","りょ":"ryo","キャ":"kya","キュ":"kyu","キョ":"kyo","シャ":"sya","シュ":"syu","ショ":"syo","チャ":"tya","チュ":"tyu","チョ":"tyo","ニャ":"nya","ニュ":"nyu","ニョ":"nyo","ヒャ":"hya","ヒュ":"hyu","ヒョ":"hyo","ミャ":"mya","ミュ":"myu","ミョ":"myo","リャ":"rya","リュ":"ryu","リョ":"ryo","ぎゃ":"gya","ぎゅ":"gyu","ぎょ":"gyo","じゃ":"zya","じゅ":"zyu","じょ":"zyo","ぢゃ":"dya","ぢゅ":"dyu","ぢょ":"dyo","びゃ":"bya","びゅ":"byu","びょ":"byo","ぴゃ":"pya","ぴゅ":"pyu","ぴょ":"pyo","くゎ":"kwa","ぐゎ":"gwa","ギャ":"gya","ギュ":"gyu","ギョ":"gyo","ジャ":"zya","ジュ":"zyu","ジョ":"zyo","ヂャ":"dya","ヂュ":"dyu","ヂョ":"dyo","ビャ":"bya","ビュ":"byu","ビョ":"byo","ピャ":"pya","ピュ":"pyu","ピョ":"pyo","クヮ":"kwa","グヮ":"gwa","ぁ":"a","ぃ":"i","ぅ":"u","ぇ":"e","ぉ":"o","ゃ":"ya","ゅ":"yu","ょ":"yo","ゎ":"wa","ァ":"a","ィ":"i","ゥ":"u","ェ":"e","ォ":"o","ャ":"ya","ュ":"yu","ョ":"yo","ヮ":"wa","ヵ":"ka","ヶ":"ke","ん":"n","ン":"n","　":" ","いぇ":"ye","きぇ":"kye","くぃ":"kwi","くぇ":"kwe","くぉ":"kwo","ぐぃ":"gwi","ぐぇ":"gwe","ぐぉ":"gwo","イェ":"ye","キェ":"kya","クィ":"kwi","クェ":"kwe","クォ":"kwo","グィ":"gwi","グェ":"gwe","グォ":"gwo","しぇ":"sye","じぇ":"zye","すぃ":"swi","ずぃ":"zwi","ちぇ":"tye","つぁ":"twa","つぃ":"twi","つぇ":"twe","つぉ":"two","にぇ":"nye","ひぇ":"hye","ふぁ":"hwa","ふぃ":"hwi","ふぇ":"hwe","ふぉ":"hwo","ふゅ":"hwyu","ふょ":"hwyo","シェ":"sye","ジェ":"zye","スィ":"swi","ズィ":"zwi","チェ":"tye","ツァ":"twa","ツィ":"twi","ツェ":"twe","ツォ":"two","ニェ":"nye","ヒェ":"hye","ファ":"hwa","フィ":"hwi","フェ":"hwe","フォ":"hwo","フュ":"hwyu","フョ":"hwyo"},passport:{"１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","０":"0","！":"!","“":'"',"”":'"',"＃":"#","＄":"$","％":"%","＆":"&","’":"'","（":"(","）":")","＝":"=","～":"~","｜":"|","＠":"@","‘":"`","＋":"+","＊":"*","；":";","：":":","＜":"<","＞":">","、":",","。":".","／":"/","？":"?","＿":"_","・":"･","「":'"',"」":'"',"｛":"{","｝":"}","￥":"\\","＾":"^","あ":"a","い":"i","う":"u","え":"e","お":"o","ア":"a","イ":"i","ウ":"u","エ":"e","オ":"o","か":"ka","き":"ki","く":"ku","け":"ke","こ":"ko","カ":"ka","キ":"ki","ク":"ku","ケ":"ke","コ":"ko","さ":"sa","し":"shi","す":"su","せ":"se","そ":"so","サ":"sa","シ":"shi","ス":"su","セ":"se","ソ":"so","た":"ta","ち":"chi","つ":"tsu","て":"te","と":"to","タ":"ta","チ":"chi","ツ":"tsu","テ":"te","ト":"to","な":"na","に":"ni","ぬ":"nu","ね":"ne","の":"no","ナ":"na","ニ":"ni","ヌ":"nu","ネ":"ne","ノ":"no","は":"ha","ひ":"hi","ふ":"fu","へ":"he","ほ":"ho","ハ":"ha","ヒ":"hi","フ":"fu","ヘ":"he","ホ":"ho","ま":"ma","み":"mi","む":"mu","め":"me","も":"mo","マ":"ma","ミ":"mi","ム":"mu","メ":"me","モ":"mo","や":"ya","ゆ":"yu","よ":"yo","ヤ":"ya","ユ":"yu","ヨ":"yo","ら":"ra","り":"ri","る":"ru","れ":"re","ろ":"ro","ラ":"ra","リ":"ri","ル":"ru","レ":"re","ロ":"ro","わ":"wa","ゐ":"i","ゑ":"e","を":"o","ワ":"wa","ヰ":"i","ヱ":"e","ヲ":"o","が":"ga","ぎ":"gi","ぐ":"gu","げ":"ge","ご":"go","ガ":"ga","ギ":"gi","グ":"gu","ゲ":"ge","ゴ":"go","ざ":"za","じ":"ji","ず":"zu","ぜ":"ze","ぞ":"zo","ザ":"za","ジ":"ji","ズ":"zu","ゼ":"ze","ゾ":"zo","だ":"da","ぢ":"ji","づ":"zu","で":"de","ど":"do","ダ":"da","ヂ":"ji","ヅ":"zu","デ":"de","ド":"do","ば":"ba","び":"bi","ぶ":"bu","べ":"be","ぼ":"bo","バ":"ba","ビ":"bi","ブ":"bu","ベ":"be","ボ":"bo","ぱ":"pa","ぴ":"pi","ぷ":"pu","ぺ":"pe","ぽ":"po","パ":"pa","ピ":"pi","プ":"pu","ペ":"pe","ポ":"po","きゃ":"kya","きゅ":"kyu","きょ":"kyo","しゃ":"sha","しゅ":"shu","しょ":"sho","ちゃ":"cha","ちゅ":"chu","ちょ":"cho","にゃ":"nya","にゅ":"nyu","にょ":"nyo","ひゃ":"hya","ひゅ":"hyu","ひょ":"hyo","みゃ":"mya","みゅ":"myu","みょ":"myo","りゃ":"rya","りゅ":"ryu","りょ":"ryo","キャ":"kya","キュ":"kyu","キョ":"kyo","シャ":"sha","シュ":"shu","ショ":"sho","チャ":"cha","チュ":"chu","チョ":"cho","ニャ":"nya","ニュ":"nyu","ニョ":"nyo","ヒャ":"hya","ヒュ":"hyu","ヒョ":"hyo","ミャ":"mya","ミュ":"myu","ミョ":"myo","リャ":"rya","リュ":"ryu","リョ":"ryo","ぎゃ":"gya","ぎゅ":"gyu","ぎょ":"gyo","じゃ":"ja","じゅ":"ju","じょ":"jo","ぢゃ":"ja","ぢゅ":"ju","ぢょ":"jo","びゃ":"bya","びゅ":"byu","びょ":"byo","ぴゃ":"pya","ぴゅ":"pyu","ぴょ":"pyo","ギャ":"gya","ギュ":"gyu","ギョ":"gyo","ジャ":"ja","ジュ":"ju","ジョ":"jo","ヂャ":"ja","ヂュ":"ju","ヂョ":"jo","ビャ":"bya","ビュ":"byu","ビョ":"byo","ピャ":"pya","ピュ":"pyu","ピョ":"pyo","ぁ":"a","ぃ":"i","ぅ":"u","ぇ":"e","ぉ":"o","ゃ":"ya","ゅ":"yu","ょ":"yo","ゎ":"wa","ァ":"a","ィ":"i","ゥ":"u","ェ":"e","ォ":"o","ャ":"ya","ュ":"yu","ョ":"yo","ヮ":"wa","ヵ":"ka","ヶ":"ke","ん":"n","ン":"n","　":" ","ヴ":"b"},hepburn:{"１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","０":"0","！":"!","“":'"',"”":'"',"＃":"#","＄":"$","％":"%","＆":"&","’":"'","（":"(","）":")","＝":"=","～":"~","｜":"|","＠":"@","‘":"`","＋":"+","＊":"*","；":";","：":":","＜":"<","＞":">","、":",","。":".","／":"/","？":"?","＿":"_","・":"･","「":'"',"」":'"',"｛":"{","｝":"}","￥":"\\","＾":"^","あ":"a","い":"i","う":"u","え":"e","お":"o","ア":"a","イ":"i","ウ":"u","エ":"e","オ":"o","か":"ka","き":"ki","く":"ku","け":"ke","こ":"ko","カ":"ka","キ":"ki","ク":"ku","ケ":"ke","コ":"ko","さ":"sa","し":"shi","す":"su","せ":"se","そ":"so","サ":"sa","シ":"shi","ス":"su","セ":"se","ソ":"so","た":"ta","ち":"chi","つ":"tsu","て":"te","と":"to","タ":"ta","チ":"chi","ツ":"tsu","テ":"te","ト":"to","な":"na","に":"ni","ぬ":"nu","ね":"ne","の":"no","ナ":"na","ニ":"ni","ヌ":"nu","ネ":"ne","ノ":"no","は":"ha","ひ":"hi","ふ":"fu","へ":"he","ほ":"ho","ハ":"ha","ヒ":"hi","フ":"fu","ヘ":"he","ホ":"ho","ま":"ma","み":"mi","む":"mu","め":"me","も":"mo","マ":"ma","ミ":"mi","ム":"mu","メ":"me","モ":"mo","や":"ya","ゆ":"yu","よ":"yo","ヤ":"ya","ユ":"yu","ヨ":"yo","ら":"ra","り":"ri","る":"ru","れ":"re","ろ":"ro","ラ":"ra","リ":"ri","ル":"ru","レ":"re","ロ":"ro","わ":"wa","ゐ":"i","ゑ":"e","を":"o","ワ":"wa","ヰ":"i","ヱ":"e","ヲ":"o","が":"ga","ぎ":"gi","ぐ":"gu","げ":"ge","ご":"go","ガ":"ga","ギ":"gi","グ":"gu","ゲ":"ge","ゴ":"go","ざ":"za","じ":"ji","ず":"zu","ぜ":"ze","ぞ":"zo","ザ":"za","ジ":"ji","ズ":"zu","ゼ":"ze","ゾ":"zo","だ":"da","ぢ":"ji","づ":"zu","で":"de","ど":"do","ダ":"da","ヂ":"ji","ヅ":"zu","デ":"de","ド":"do","ば":"ba","び":"bi","ぶ":"bu","べ":"be","ぼ":"bo","バ":"ba","ビ":"bi","ブ":"bu","ベ":"be","ボ":"bo","ぱ":"pa","ぴ":"pi","ぷ":"pu","ぺ":"pe","ぽ":"po","パ":"pa","ピ":"pi","プ":"pu","ペ":"pe","ポ":"po","きゃ":"kya","きゅ":"kyu","きょ":"kyo","しゃ":"sha","しゅ":"shu","しょ":"sho","ちゃ":"cha","ちゅ":"chu","ちょ":"cho","にゃ":"nya","にゅ":"nyu","にょ":"nyo","ひゃ":"hya","ひゅ":"hyu","ひょ":"hyo","みゃ":"mya","みゅ":"myu","みょ":"myo","りゃ":"rya","りゅ":"ryu","りょ":"ryo","キャ":"kya","キュ":"kyu","キョ":"kyo","シャ":"sha","シュ":"shu","ショ":"sho","チャ":"cha","チュ":"chu","チョ":"cho","ニャ":"nya","ニュ":"nyu","ニョ":"nyo","ヒャ":"hya","ヒュ":"hyu","ヒョ":"hyo","ミャ":"mya","ミュ":"myu","ミョ":"myo","リャ":"rya","リュ":"ryu","リョ":"ryo","ぎゃ":"gya","ぎゅ":"gyu","ぎょ":"gyo","じゃ":"ja","じゅ":"ju","じょ":"jo","ぢゃ":"ja","ぢゅ":"ju","ぢょ":"jo","びゃ":"bya","びゅ":"byu","びょ":"byo","ぴゃ":"pya","ぴゅ":"pyu","ぴょ":"pyo","ギャ":"gya","ギュ":"gyu","ギョ":"gyo","ジャ":"ja","ジュ":"ju","ジョ":"jo","ヂャ":"ja","ヂュ":"ju","ヂョ":"jo","ビャ":"bya","ビュ":"byu","ビョ":"byo","ピャ":"pya","ピュ":"pyu","ピョ":"pyo","ぁ":"a","ぃ":"i","ぅ":"u","ぇ":"e","ぉ":"o","ゃ":"ya","ゅ":"yu","ょ":"yo","ゎ":"wa","ァ":"a","ィ":"i","ゥ":"u","ェ":"e","ォ":"o","ャ":"ya","ュ":"yu","ョ":"yo","ヮ":"wa","ヵ":"ka","ヶ":"ke","ん":"n","ン":"n","　":" ","いぇ":"ye","うぃ":"wi","うぇ":"we","うぉ":"wo","きぇ":"kye","くぁ":"kwa","くぃ":"kwi","くぇ":"kwe","くぉ":"kwo","ぐぁ":"gwa","ぐぃ":"gwi","ぐぇ":"gwe","ぐぉ":"gwo","イェ":"ye","ウィ":"wi","ウェ":"we","ウォ":"wo","ヴ":"vu","ヴァ":"va","ヴィ":"vi","ヴェ":"ve","ヴォ":"vo","ヴュ":"vyu","ヴョ":"vyo","キェ":"kya","クァ":"kwa","クィ":"kwi","クェ":"kwe","クォ":"kwo","グァ":"gwa","グィ":"gwi","グェ":"gwe","グォ":"gwo","しぇ":"she","じぇ":"je","ちぇ":"che","つぁ":"tsa","つぃ":"tsi","つぇ":"tse","つぉ":"tso","てぃ":"ti","てゅ":"tyu","でぃ":"di","でゅ":"dyu","とぅ":"tu","どぅ":"du","にぇ":"nye","ひぇ":"hye","ふぁ":"fa","ふぃ":"fi","ふぇ":"fe","ふぉ":"fo","ふゅ":"fyu","ふょ":"fyo","シェ":"she","ジェ":"je","チェ":"che","ツァ":"tsa","ツィ":"tsi","ツェ":"tse","ツォ":"tso","ティ":"ti","テュ":"tyu","ディ":"di","デュ":"dyu","トゥ":"tu","ドゥ":"du","ニェ":"nye","ヒェ":"hye","ファ":"fa","フィ":"fi","フェ":"fe","フォ":"fo","フュ":"fyu","フョ":"fyo"}};let i=0,o="";if((t=t||j.HEPBURN)===j.PASSPORT&&(n=n.replace(/ー/gm,"")),t===j.NIPPON||t===j.HEPBURN){for(var a,u=new RegExp(/(ん|ン)(?=あ|い|う|え|お|ア|イ|ウ|エ|オ|ぁ|ぃ|ぅ|ぇ|ぉ|ァ|ィ|ゥ|ェ|ォ|や|ゆ|よ|ヤ|ユ|ヨ|ゃ|ゅ|ょ|ャ|ュ|ョ)/g),s=[];null!==(a=u.exec(n));)s.push(a.index+1);if(0!==s.length){let e="";for(let t=0;t<s.length;t++)0===t?e+=n.slice(0,s[t])+"'":e+=n.slice(s[t-1],s[t])+"'";n=e+=n.slice(s[s.length-1])}}for(var c=n.length;i<=c;)(e=r[t][n.substring(i,i+2)])?(o+=e,i+=2):(o+=r[t][e=n.substring(i,i+1)]||e,i+=1);return o=o.replace(/(っ|ッ)([bcdfghijklmnopqrstuvwyz])/gm,"$2$2"),o=(o=t!==j.PASSPORT&&t!==j.HEPBURN?o:o.replace(/cc/gm,"tc")).replace(/っ|ッ/gm,"tsu"),t!==j.PASSPORT&&t!==j.HEPBURN||(o=(o=(o=o.replace(/nm/gm,"mm")).replace(/nb/gm,"mb")).replace(/np/gm,"mp")),t===j.NIPPON&&(o=(o=(o=(o=(o=o.replace(/aー/gm,"â")).replace(/iー/gm,"î")).replace(/uー/gm,"û")).replace(/eー/gm,"ê")).replace(/oー/gm,"ô")),o=t===j.HEPBURN?(o=(o=(o=(o=o.replace(/aー/gm,"ā")).replace(/iー/gm,"ī")).replace(/uー/gm,"ū")).replace(/eー/gm,"ē")).replace(/oー/gm,"ō"):o}function g(e){let n=!1,r=!1;for(let t=0;t<e.length;t++)c(e[t])?n=!0:(a(e[t])||S(e[t]))&&(r=!0);return n&&r?1:n?0:r?2:3}function m(e){for(let t=0;t<e.length;t++)h(e[t].surface_form)?e[t].reading?r(e[t].reading)&&(e[t].reading=d(e[t].reading)):e[t].surface_form.split("").every(n)?e[t].reading=d(e[t].surface_form):e[t].reading=e[t].surface_form:e[t].reading=e[t].surface_form;for(let t=0;t<e.length;t++)!e[t].pos||"助動詞"!==e[t].pos||"う"!==e[t].surface_form&&"ウ"!==e[t].surface_form||0<=t-1&&e[t-1].pos&&"動詞"===e[t-1].pos&&(e[t-1].surface_form+="う",e[t-1].pronunciation?e[t-1].pronunciation+="ー":e[t-1].pronunciation=e[t-1].reading+"ー",e[t-1].reading+="ウ",e.splice(t,1),t--);for(let t=0;t<e.length;t++)e[t].pos&&("動詞"===e[t].pos||"形容詞"===e[t].pos)&&1<e[t].surface_form.length&&("っ"===e[t].surface_form[e[t].surface_form.length-1]||"ッ"===e[t].surface_form[e[t].surface_form.length-1])&&t+1<e.length&&(e[t].surface_form+=e[t+1].surface_form,e[t].pronunciation?e[t].pronunciation+=e[t+1].pronunciation:e[t].pronunciation=""+e[t].reading+e[t+1].reading,e[t].reading+=e[t+1].reading,e.splice(t+1,1),t--);return e}var t,e,u=Object.create,s=Object.defineProperty,v=Object.getOwnPropertyDescriptor,b=Object.getOwnPropertyNames,_=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty,k=(t=>"undefined"!=typeof require?require:"undefined"!=typeof Proxy?new Proxy(t,{get:(t,e)=>("undefined"!=typeof require?require:t)[e]}):t)(function(t){if("react"===t)return Spicetify.React;if("react-dom"===t)return Spicetify.ReactDOM;if("undefined"!=typeof require)return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')}),i=(t,e,n)=>{n=null!=t?u(_(t)):{};var r=!e&&t&&t.__esModule?n:s(n,"default",{value:t,enumerable:!0}),i=t,o=void 0,a=void 0;if(i&&"object"==typeof i||"function"==typeof i)for(let t of b(i))w.call(r,t)||t===o||s(r,t,{get:()=>i[t],enumerable:!(a=v(i,t))||a.enumerable});return r},o=(t={"node_modules/kuroshiro-analyzer-kuromoji/dist/kuroshiro-analyzer-kuromoji.min.js"(e,n){!function(t){"object"==typeof e&&void 0!==n?n.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).KuromojiAnalyzer=t()}(function(){return function r(i,o,a){function u(e,t){if(!o[e]){if(!i[e]){var n="function"==typeof k&&k;if(!t&&n)return n(e,!0);if(s)return s(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}n=o[e]={exports:{}},i[e][0].call(n.exports,function(t){return u(i[e][1][t]||t)},n,n.exports,r,i,o,a)}return o[e].exports}for(var s="function"==typeof k&&k,t=0;t<a.length;t++)u(a[t]);return u}({1:[function(t,mn,e){!function(dn,yn,gn){var t;t=this,function(t){"use strict";function y(t,e){e|=0;for(var n=Math.max(t.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=t[e+i];return r}function U(e){var n=y(arguments,1);return function(){var t=y(arguments);return e.apply(null,n.concat(t))}}function s(n){return function(){var t=y(arguments),e=t.pop();n.call(this,t,e)}}function F(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var N="function"==typeof gn&&gn,e="object"==typeof dn&&"function"==typeof dn.nextTick;function P(t){setTimeout(t,0)}function M(n){return function(t){var e=y(arguments,1);n(function(){t.apply(null,e)})}}var h=M(N?gn:e?dn.nextTick:P);function n(r){return s(function(t,e){var n;try{n=r.apply(this,t)}catch(t){return e(t)}F(n)&&"function"==typeof n.then?n.then(function(t){R(e,null,t)},function(t){R(e,t.message?t:new Error(t))}):e(null,n)})}function R(t,e,n){try{t(e,n)}catch(t){h(V,t)}}function V(t){throw t}var H="function"==typeof Symbol;function q(t){return H&&"AsyncFunction"===t[Symbol.toStringTag]}function g(t){return q(t)?n(t):t}function $(i){return function(e){var t=y(arguments,1),n=s(function(n,t){var r=this;return i(e,function(t,e){g(t).apply(r,n.concat(e))},t)});return t.length?n.apply(this,t):n}}var r="object"==typeof yn&&yn&&yn.Object===Object&&yn,i="object"==typeof self&&self&&self.Object===Object&&self,i=r||i||Function("return this")(),o=i.Symbol,a=Object.prototype,K=a.hasOwnProperty,G=a.toString,u=o?o.toStringTag:void 0,W=Object.prototype.toString,Z="[object Null]",J="[object Undefined]",X=o?o.toStringTag:void 0;function Q(t){{if(null==t)return void 0===t?J:Z;if(X&&X in Object(t)){var e=t,n=K.call(e,u),r=e[u];try{var i=!(e[u]=void 0)}catch(t){}var o=G.call(e);return i&&(n?e[u]=r:delete e[u]),o}return W.call(t)}}var Y="[object AsyncFunction]",tt="[object Function]",et="[object GeneratorFunction]",nt="[object Proxy]",rt=9007199254740991;function it(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=rt}function _(e){return null!=e&&it(e.length)&&!function(){var t;if(F(e))return(t=Q(e))==tt||t==et||t==Y||t==nt}()}var ot={};function w(){}function k(e){return function(){var t;null!==e&&(t=e,e=null,t.apply(this,arguments))}}function at(t){return ut&&t[ut]&&t[ut]()}var ut="function"==typeof Symbol&&Symbol.iterator;function st(t){return null!=t&&"object"==typeof t}function ct(t){return st(t)&&"[object Arguments]"==Q(t)}var a=Object.prototype,lt=a.hasOwnProperty,ft=a.propertyIsEnumerable,ht=ct(function(){return arguments}())?ct:function(t){return st(t)&&lt.call(t,"callee")&&!ft.call(t,"callee")},m=Array.isArray,a="object"==typeof t&&t&&!t.nodeType&&t,c=a&&"object"==typeof mn&&mn&&!mn.nodeType&&mn,c=c&&c.exports===a?i.Buffer:void 0,pt=(c?c.isBuffer:void 0)||function(){return!1},dt=/^(?:0|[1-9]\d*)$/;var l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l["[object Arguments]"]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l["[object Function]"]=l["[object Map]"]=l["[object Number]"]=l["[object Object]"]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1;var yt,a="object"==typeof t&&t&&!t.nodeType&&t,f=a&&"object"==typeof mn&&mn&&!mn.nodeType&&mn,gt=f&&f.exports===a&&r.process,i=function(){try{return f&&f.require&&f.require("util").types||gt&&gt.binding&&gt.binding("util")}catch(t){}}(),c=i&&i.isTypedArray,mt=c?(yt=c,function(t){return yt(t)}):function(t){return st(t)&&it(t.length)&&!!l[Q(t)]},vt=Object.prototype.hasOwnProperty;function bt(t,e){var n,r,i,o,a=m(t),u=!a&&ht(t),s=!a&&!u&&pt(t),c=!a&&!u&&!s&&mt(t),l=a||u||s||c,f=l?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],h=f.length;for(n in t)!e&&!vt.call(t,n)||l&&("length"==n||s&&("offset"==n||"parent"==n)||c&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||(r=n,i=h,o=void 0,o=typeof r,(i=null==i?9007199254740991:i)&&("number"==o||"symbol"!=o&&dt.test(r))&&-1<r&&r%1==0&&r<i))||f.push(n);return f}var _t,wt,kt=Object.prototype,jt=(_t=Object.keys,wt=Object,function(t){return _t(wt(t))}),St=Object.prototype.hasOwnProperty;function Ct(t){return(_(t)?bt:function(t){if(t!==("function"==typeof(e=t&&t.constructor)&&e.prototype||kt))return jt(t);var e,n,r=[];for(n in Object(t))St.call(t,n)&&"constructor"!=n&&r.push(n);return r})(t)}function j(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function At(b){return function(t,e,n){if(n=k(n||w),b<=0||!t)return n(null);var r,i,o,a,u,s,c,l,f,h,p=_(t=t)?(i=-1,o=(r=t).length,function(){return++i<o?{value:r[i],key:i}:null}):(l=at(t))?(f=l,h=-1,function(){var t=f.next();return t.done?null:(h++,{value:t.value,key:h})}):(u=Ct(a=t),s=-1,c=u.length,function(){var t=u[++s];return s<c?{value:a[t],key:t}:null}),d=!1,y=0,g=!1;function m(t,e){if(--y,t)d=!0,n(t);else{if(e===ot||d&&y<=0)return d=!0,n(null);g||v()}}function v(){for(g=!0;y<b&&!d;){var t=p();if(null===t)return d=!0,y<=0&&n(null);y+=1,e(t.value,t.key,j(m))}g=!1}v()}}function p(t,e,n,r){At(e)(t,g(n),r)}function d(r,i){return function(t,e,n){return r(t,i,e,n)}}function v(t,e,n){(_(t)?function(t,e,n){n=k(n||w);var r=0,i=0,o=t.length;function a(t,e){t?n(t):++i!==o&&e!==ot||n(null)}for(0===o&&n(null);r<o;r++)e(t[r],r,j(a))}:xt)(t,g(e),n)}var xt=d(p,1/0);function b(r){return function(t,e,n){return r(v,t,g(e),n)}}function Et(t,e,n,r){r=r||w,e=e||[];var i=[],o=0,a=g(n);t(e,function(t,e,n){var r=o++;a(t,function(t,e){i[r]=e,n(t)})},function(t){r(t,i)})}var It=b(Et),a=$(It);function S(i){return function(t,e,n,r){return i(At(e),t,g(n),r)}}var C=S(Et),r=d(C,1),i=$(r);function zt(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););}var Tt=function(t,e,n){for(var r=-1,i=Object(t),o=n(t),a=o.length;a--;){var u=o[++r];if(!1===e(i[u],u,i))break}return t};function A(t,e){t&&Tt(t,e,Ct)}function Dt(t){return t!=t}function Lt(t,e,n){if(e==e){for(var r=t,i=e,o=n-1,a=r.length;++o<a;)if(r[o]===i)return o}else for(var u=t,s=Dt,c=u.length,l=n+-1;++l<c;)if(s(u[l],l,u))return l;return-1}function Ot(o,t,a){"function"==typeof t&&(a=t,t=null),a=k(a||w);var e=Ct(o).length;if(!e)return a(null);t=t||e;var u={},s=0,c=!1,l=Object.create(null),r=[],f=[],h={};function p(n,i){r.push(function(){var r,t,e;r=n,c||(t=j(function(t,e){var n;s--,2<arguments.length&&(e=y(arguments,1)),t?(n={},A(u,function(t,e){n[e]=t}),n[r]=e,c=!0,l=Object.create(null),a(t,n)):(u[r]=e,zt(l[r]||[],function(t){t()}),d())}),s++,e=g(i[i.length-1]),1<i.length?e(u,t):e(t))})}function d(){if(0===r.length&&0===s)return a(null,u);for(;r.length&&s<t;)r.shift()()}A(o,function(e,n){var r,i;m(e)?(r=e.slice(0,e.length-1),0===(i=r.length)?(p(n,e),f.push(n)):(h[n]=i,zt(r,function(t){if(!o[t])throw new Error("async.auto task `"+n+"` has a non-existent dependency `"+t+"` in "+r.join(", "));(l[t]||(l[t]=[])).push(function(){0===--i&&p(n,e)})}))):(p(n,[e]),f.push(n))});for(var n=0;f.length;)n++,zt(function(n){var r=[];return A(o,function(t,e){m(t)&&0<=Lt(t,n,0)&&r.push(e)}),r}(f.pop()),function(t){0==--h[t]&&f.push(t)});if(n!==e)throw new Error("async.auto cannot execute tasks due to a recursive dependency");d()}function x(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Bt="[object Symbol]",Ut=1/0,c=o?o.prototype:void 0,Ft=c?c.toString:void 0;function Nt(t){var e;return"string"==typeof t?t:m(t)?x(t,Nt)+"":"symbol"==typeof t||st(t)&&Q(t)==Bt?Ft?Ft.call(t):"":"0"==(e=t+"")&&1/t==-Ut?"-0":e}var Pt=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),o="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",c="\\ud83c[\\udffb-\\udfff]",E="[^\\ud800-\\udfff]",Mt="(?:\\ud83c[\\udde6-\\uddff]){2}",I="[\\ud800-\\udbff][\\udc00-\\udfff]",z="(?:"+o+"|"+c+")?",z="[\\ufe0e\\ufe0f]?"+z+"(?:\\u200d(?:"+[E,Mt,I].join("|")+")[\\ufe0e\\ufe0f]?"+z+")*",E="(?:"+[E+o+"?",o,Mt,I,"[\\ud800-\\udfff]"].join("|")+")",Rt=RegExp(c+"(?="+c+")|"+E+z,"g");function Vt(t){return Pt.test(t)?t.match(Rt)||[]:t.split("")}var Ht=/^\s+|\s+$/g;function qt(t,e,n){return(t=null==t?"":Nt(t))&&(n||void 0===e)?t.replace(Ht,""):t&&(e=Nt(e))?function(t,e,n){var r=t.length;if(n=void 0===n?r:n,!e&&r<=n)return t;var i=t,o=e,r=n,a=-1,u=i.length;(r=u<r?u:r)<0&&(r+=u),u=r<(o=o<0?u<-o?0:u+o:o)?0:r-o>>>0,o>>>=0;for(var s=Array(u);++a<u;)s[a]=i[a+o];return s}(n=Vt(t),function(t,e){for(var n=-1,r=t.length;++n<r&&-1<Lt(e,t[n],0););return n}(n,e=Vt(e)),function(t,e){for(var n=t.length;n--&&-1<Lt(e,t[n],0););return n}(n,e)+1).join(""):t}var $t=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,Kt=/,/,Gt=/(=.+)?(\s*)$/,Wt=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function Zt(t,e){var a={};A(t,function(r,t){var i,e=q(r),n=!e&&1===r.length||e&&0===r.length;if(m(r))i=r.slice(0,-1),r=r[r.length-1],a[t]=i.concat(0<i.length?o:r);else if(n)a[t]=r;else{if(i=n=(n=(n=(n=(n=r).toString().replace(Wt,"")).match($t)[2].replace(" ",""))?n.split(Kt):[]).map(function(t){return qt(t.replace(Gt,""))}),0===r.length&&!e&&0===i.length)throw new Error("autoInject task functions require explicit parameters.");e||i.pop(),a[t]=i.concat(o)}function o(e,t){var n=x(i,function(t){return e[t]});n.push(t),g(r).apply(null,n)}}),Ot(a,e)}function T(){this.head=this.tail=null,this.length=0}function Jt(t,e){t.length=1,t.head=t.tail=e}function Xt(t,e,n){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var a=g(t),u=0,s=[],c=!1;function r(t,e,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(f.started=!0,0===(t=m(t)?t:[t]).length&&f.idle())return h(function(){f.drain()});for(var r=0,i=t.length;r<i;r++){var o={data:t[r],callback:n||w};e?f._tasks.unshift(o):f._tasks.push(o)}c||(c=!0,h(function(){c=!1,f.process()}))}var l=!1,f={_tasks:new T,concurrency:e,payload:n,saturated:w,unsaturated:w,buffer:e/4,empty:w,drain:w,error:w,started:!1,paused:!1,push:function(t,e){r(t,!1,e)},kill:function(){f.drain=w,f._tasks.empty()},unshift:function(t,e){r(t,!0,e)},remove:function(t){f._tasks.remove(t)},process:function(){if(!l){for(l=!0;!f.paused&&u<f.concurrency&&f._tasks.length;){var t=[],e=[],n=f._tasks.length;f.payload&&(n=Math.min(n,f.payload));for(var r=0;r<n;r++){var i=f._tasks.shift();t.push(i),s.push(i),e.push(i.data)}u+=1,0===f._tasks.length&&f.empty(),u===f.concurrency&&f.saturated();var o=j(function(o){return function(t){--u;for(var e=0,n=o.length;e<n;e++){var r=o[e],i=Lt(s,r,0);0===i?s.shift():0<i&&s.splice(i,1),r.callback.apply(r,arguments),null!=t&&f.error(t,r.data)}u<=f.concurrency-f.buffer&&f.unsaturated(),f.idle()&&f.drain(),f.process()}}(t));a(e,o)}l=!1}},length:function(){return f._tasks.length},running:function(){return u},workersList:function(){return s},idle:function(){return f._tasks.length+u===0},pause:function(){f.paused=!0},resume:function(){!1!==f.paused&&(f.paused=!1,h(f.process))}};return f}function Qt(t,e){return Xt(t,1,e)}T.prototype.removeLink=function(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,--this.length,t},T.prototype.empty=function(){for(;this.head;)this.shift();return this},T.prototype.insertAfter=function(t,e){e.prev=t,e.next=t.next,t.next?t.next.prev=e:this.tail=e,t.next=e,this.length+=1},T.prototype.insertBefore=function(t,e){e.prev=t.prev,(e.next=t).prev?t.prev.next=e:this.head=e,t.prev=e,this.length+=1},T.prototype.unshift=function(t){this.head?this.insertBefore(this.head,t):Jt(this,t)},T.prototype.push=function(t){this.tail?this.insertAfter(this.tail,t):Jt(this,t)},T.prototype.shift=function(){return this.head&&this.removeLink(this.head)},T.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},T.prototype.toArray=function(){for(var t=Array(this.length),e=this.head,n=0;n<this.length;n++)t[n]=e.data,e=e.next;return t},T.prototype.remove=function(t){for(var e=this.head;e;){var n=e.next;t(e)&&this.removeLink(e),e=n}return this};var D=d(p,1);function L(t,r,e,n){n=k(n||w);var i=g(e);D(t,function(t,e,n){i(r,t,function(t,e){r=e,n(t)})},function(t){n(t,r)})}function Yt(){var e=x(arguments,g);return function(){var t=y(arguments),r=this,n=t[t.length-1];"function"==typeof n?t.pop():n=w,L(e,t,function(t,e,n){e.apply(r,t.concat(function(t){var e=y(arguments,1);n(t,e)}))},function(t,e){n.apply(r,[t].concat(e))})}}function te(){return Yt.apply(null,y(arguments).reverse())}function ee(t,e,n,i){i=i||w;var r=g(n);C(t,e,function(t,e){r(t,function(t){return t?e(t):e(null,y(arguments,1))})},function(t,e){for(var n=[],r=0;r<e.length;r++)e[r]&&(n=re.apply(n,e[r]));return i(t,n)})}function ne(){var t=y(arguments),e=[null].concat(t);return function(){return arguments[arguments.length-1].apply(this,e)}}var re=Array.prototype.concat,o=d(ee,1/0),Mt=d(ee,1);function O(t){return t}function B(u,s){return function(t,e,i,n){n=n||w;var o,a=!1;t(e,function(n,t,r){i(n,function(t,e){t?r(t):u(e)&&!o?(o=s(a=!0,n),r(null,ot)):r()})},function(t){t?n(t):n(null,a?o:s(!1))})}}function ie(t,e){return e}I=b(B(O,ie)),c=S(B(O,ie)),E=d(c,1);function oe(n){return function(t){var e=y(arguments,1);e.push(function(t){var e=y(arguments,1);"object"==typeof console&&(t?console.error&&console.error(t):console[n]&&zt(e,function(t){console[n](t)}))}),g(t).apply(null,e)}}z=oe("dir");function ae(t,e,n){n=j(n||w);var r=g(t),i=g(e);function o(t){if(t)return n(t);t=y(arguments,1);t.push(a),i.apply(this,t)}function a(t,e){return t?n(t):e?void r(o):n(null)}a(null,!0)}function ue(t,e,n){n=j(n||w);function r(t){return t?n(t):(t=y(arguments,1),e.apply(this,t)?i(r):void n.apply(null,[null].concat(t)))}var i=g(t);i(r)}function se(t,e,n){ue(t,function(){return!e.apply(this,arguments)},n)}function ce(t,e,n){n=j(n||w);var r=g(e),i=g(t);function o(t){if(t)return n(t);i(a)}function a(t,e){return t?n(t):e?void r(o):n(null)}i(a)}function le(r){return function(t,e,n){return r(t,n)}}function fe(t,e,n){v(t,le(g(e)),n)}function he(t,e,n,r){At(e)(t,le(g(n)),r)}var pe=d(he,1);function de(r){return q(r)?r:s(function(t,e){var n=!0;t.push(function(){var t=arguments;n?h(function(){e.apply(null,t)}):e.apply(null,t)}),r.apply(this,t),n=!1})}function ye(t){return!t}var ge=b(B(ye,ye)),me=S(B(ye,ye)),ve=d(me,1);function be(e){return function(t){return null==t?void 0:t[e]}}function _e(t,r,e,i){var o=new Array(r.length);t(r,function(t,n,r){e(t,function(t,e){o[n]=!!e,r(t)})},function(t){if(t)return i(t);for(var e=[],n=0;n<r.length;n++)o[n]&&e.push(r[n]);i(null,e)})}function we(t,e,o,n){var a=[];t(e,function(n,r,i){o(n,function(t,e){t?i(t):(e&&a.push({index:r,value:n}),i())})},function(t){t?n(t):n(null,x(a.sort(function(t,e){return t.index-e.index}),be("value")))})}function ke(t,e,n,r){(_(e)?_e:we)(t,e,g(n),r||w)}var je=b(ke),Se=S(ke),Ce=d(Se,1);function Ae(t,e){var n=j(e||w),r=g(de(t));!function t(e){return e?n(e):void r(t)}()}function xe(t,e,n,u){u=u||w;var i=g(n);C(t,e,function(n,r){i(n,function(t,e){return t?r(t):r(null,{key:e,val:n})})},function(t,e){for(var n,r,i={},o=Object.prototype.hasOwnProperty,a=0;a<e.length;a++)e[a]&&(n=e[a].key,r=e[a].val,o.call(i,n)?i[n].push(r):i[n]=[r]);return u(t,i)})}var Ee=d(xe,1/0),Ie=d(xe,1),ze=oe("log");function Te(t,e,n,r){r=k(r||w);var i={},o=g(n);p(t,e,function(t,n,r){o(t,n,function(t,e){if(t)return r(t);i[n]=e,r()})},function(t){r(t,i)})}var De=d(Te,1/0),Le=d(Te,1);function Oe(t,n){var o=Object.create(null),a=Object.create(null),r=(n=n||O,g(t)),e=s(function(t,e){var i=n.apply(null,t);i in o?h(function(){e.apply(null,o[i])}):i in a?a[i].push(e):(a[i]=[e],r.apply(null,t.concat(function(){var t=y(arguments),e=(o[i]=t,a[i]);delete a[i];for(var n=0,r=e.length;n<r;n++)e[n].apply(null,t)})))});return e.memo=o,e.unmemoized=t,e}e=M(e?dn.nextTick:N?gn:P);function Be(t,e,n){n=n||w;var i=_(e)?[]:{};t(e,function(t,n,r){g(t)(function(t,e){2<arguments.length&&(e=y(arguments,1)),i[n]=e,r(t)})},function(t){n(t,i)})}function Ue(t,e){Be(v,t,e)}function Fe(t,e,n){Be(At(e),t,n)}function Ne(t,e){var n=g(t);return Xt(function(t,e){n(t[0],e)},e,1)}function Pe(t,e){var u=Ne(t,e);return u.push=function(t,e,n){if("function"!=typeof(n=null==n?w:n))throw new Error("task callback must be a function");if(u.started=!0,0===(t=m(t)?t:[t]).length)return h(function(){u.drain()});e=e||0;for(var r=u._tasks.head;r&&e>=r.priority;)r=r.next;for(var i=0,o=t.length;i<o;i++){var a={data:t[i],priority:e,callback:n};r?u._tasks.insertBefore(r,a):u._tasks.push(a)}h(u.process)},delete u.unshift,u}function Me(t,e){if(e=k(e||w),!m(t))return e(new TypeError("First argument to race must be an array of functions"));if(!t.length)return e();for(var n=0,r=t.length;n<r;n++)g(t[n])(e)}function Re(t,e,n,r){L(y(t).reverse(),e,n,r)}function Ve(t){var e=g(t);return s(function(t,n){return t.push(function(t,e){t?n(null,{error:t}):(t=arguments.length<=2?e:y(arguments,1),n(null,{value:t}))}),e.apply(this,t)})}function He(t){var n;return m(t)?n=x(t,Ve):(n={},A(t,function(t,e){n[e]=Ve.call(this,t)})),n}function qe(t,e,r,n){ke(t,e,function(t,n){r(t,function(t,e){n(t,!e)})},n)}var N=b(qe),$e=S(qe),Ke=d($e,1);function Ge(t){return function(){return t}}function We(t,e,n){var r={times:5,intervalFunc:Ge(0)};if(arguments.length<3&&"function"==typeof t)n=e||w,e=t;else{var i=r;if("object"==typeof t)i.times=+t.times||5,i.intervalFunc="function"==typeof t.interval?t.interval:Ge(+t.interval||0),i.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");i.times=+t||5}n=n||w}if("function"!=typeof e)throw new Error("Invalid arguments for async.retry");var o=g(e),a=1;!function e(){o(function(t){t&&a++<r.times&&("function"!=typeof r.errorFilter||r.errorFilter(t))?setTimeout(e,r.intervalFunc(a)):n.apply(null,arguments)})}()}function Ze(r,t){t||(t=r,r=null);var i=g(t);return s(function(e,t){function n(t){i.apply(null,e.concat(t))}r?We(r,n,t):We(n,t)})}function Je(t,e){Be(D,t,e)}var Xe=b(B(Boolean,O)),Qe=S(B(Boolean,O)),Ye=d(Qe,1);function tn(t,e,n){var i=g(e);function r(t,e){t=t.criteria,e=e.criteria;return t<e?-1:e<t?1:0}It(t,function(n,r){i(n,function(t,e){if(t)return r(t);r(null,{value:n,criteria:e})})},function(t,e){if(t)return n(t);n(null,x(e.sort(r),be("value")))})}function en(i,o,a){var u=g(i);return s(function(t,e){var n,r=!1;t.push(function(){r||(e.apply(null,arguments),clearTimeout(n))}),n=setTimeout(function(){var t=i.name||"anonymous",t=new Error('Callback function "'+t+'" timed out.');t.code="ETIMEDOUT",a&&(t.info=a),r=!0,e(t)},o),u.apply(null,t)})}var nn=Math.ceil,rn=Math.max;function on(i,t,e,n){e=g(e);C(function(t){for(var e=-1,n=rn(nn(i-t),0),r=Array(n);n--;)r[++e]=t,t+=1;return r}(0),t,e,n)}var an=d(on,1/0),un=d(on,1);function sn(t,r,e,n){arguments.length<=3&&(n=e,e=r,r=m(t)?[]:{}),n=k(n||w);var i=g(e);v(t,function(t,e,n){i(r,t,e,n)},function(t){n(t,r)})}function cn(t,e){var r,i=null;e=e||w,pe(t,function(t,n){g(t)(function(t,e){r=2<arguments.length?y(arguments,1):e,n(!(i=t))})},function(){e(i,r)})}function ln(t){return function(){return(t.unmemoized||t).apply(null,arguments)}}function fn(e,t,n){n=j(n||w);var r=g(t);if(!e())return n(null);function i(t){return t?n(t):e()?r(i):(t=y(arguments,1),void n.apply(null,[null].concat(t)))}r(i)}function hn(t,e,n){fn(function(){return!t.apply(this,arguments)},e,n)}function pn(n,e){var r;return e=k(e||w),m(n)?n.length?(r=0,void i([])):e():e(new Error("First argument to waterfall must be an array of functions"));function i(t){var e=g(n[r++]);t.push(j(o)),e.apply(null,t)}function o(t){if(t||r===n.length)return e.apply(null,arguments);i(y(arguments,1))}}t.default={apply:U,applyEach:a,applyEachSeries:i,asyncify:n,auto:Ot,autoInject:Zt,cargo:Qt,compose:te,concat:o,concatLimit:ee,concatSeries:Mt,constant:ne,detect:I,detectLimit:c,detectSeries:E,dir:z,doDuring:ae,doUntil:se,doWhilst:ue,during:ce,each:fe,eachLimit:he,eachOf:v,eachOfLimit:p,eachOfSeries:D,eachSeries:pe,ensureAsync:de,every:ge,everyLimit:me,everySeries:ve,filter:je,filterLimit:Se,filterSeries:Ce,forever:Ae,groupBy:Ee,groupByLimit:xe,groupBySeries:Ie,log:ze,map:It,mapLimit:C,mapSeries:r,mapValues:De,mapValuesLimit:Te,mapValuesSeries:Le,memoize:Oe,nextTick:e,parallel:Ue,parallelLimit:Fe,priorityQueue:Pe,queue:Ne,race:Me,reduce:L,reduceRight:Re,reflect:Ve,reflectAll:He,reject:N,rejectLimit:$e,rejectSeries:Ke,retry:We,retryable:Ze,seq:Yt,series:Je,setImmediate:h,some:Xe,someLimit:Qe,someSeries:Ye,sortBy:tn,timeout:en,times:an,timesLimit:on,timesSeries:un,transform:sn,tryEach:cn,unmemoize:ln,until:hn,waterfall:pn,whilst:fn,all:ge,allLimit:me,allSeries:ve,any:Xe,anyLimit:Qe,anySeries:Ye,find:I,findLimit:c,findSeries:E,forEach:fe,forEachSeries:pe,forEachLimit:he,forEachOf:v,forEachOfSeries:D,forEachOfLimit:p,inject:L,foldl:L,foldr:Re,select:je,selectLimit:Se,selectSeries:Ce,wrapSync:n},t.apply=U,t.applyEach=a,t.applyEachSeries=i,t.asyncify=n,t.auto=Ot,t.autoInject=Zt,t.cargo=Qt,t.compose=te,t.concat=o,t.concatLimit=ee,t.concatSeries=Mt,t.constant=ne,t.detect=I,t.detectLimit=c,t.detectSeries=E,t.dir=z,t.doDuring=ae,t.doUntil=se,t.doWhilst=ue,t.during=ce,t.each=fe,t.eachLimit=he,t.eachOf=v,t.eachOfLimit=p,t.eachOfSeries=D,t.eachSeries=pe,t.ensureAsync=de,t.every=ge,t.everyLimit=me,t.everySeries=ve,t.filter=je,t.filterLimit=Se,t.filterSeries=Ce,t.forever=Ae,t.groupBy=Ee,t.groupByLimit=xe,t.groupBySeries=Ie,t.log=ze,t.map=It,t.mapLimit=C,t.mapSeries=r,t.mapValues=De,t.mapValuesLimit=Te,t.mapValuesSeries=Le,t.memoize=Oe,t.nextTick=e,t.parallel=Ue,t.parallelLimit=Fe,t.priorityQueue=Pe,t.queue=Ne,t.race=Me,t.reduce=L,t.reduceRight=Re,t.reflect=Ve,t.reflectAll=He,t.reject=N,t.rejectLimit=$e,t.rejectSeries=Ke,t.retry=We,t.retryable=Ze,t.seq=Yt,t.series=Je,t.setImmediate=h,t.some=Xe,t.someLimit=Qe,t.someSeries=Ye,t.sortBy=tn,t.timeout=en,t.times=an,t.timesLimit=on,t.timesSeries=un,t.transform=sn,t.tryEach=cn,t.unmemoize=ln,t.until=hn,t.waterfall=pn,t.whilst=fn,t.all=ge,t.allLimit=me,t.allSeries=ve,t.any=Xe,t.anyLimit=Qe,t.anySeries=Ye,t.find=I,t.findLimit=c,t.findSeries=E,t.forEach=fe,t.forEachSeries=pe,t.forEachLimit=he,t.forEachOf=v,t.forEachOfSeries=D,t.forEachOfLimit=p,t.inject=L,t.foldl=L,t.foldr=Re,t.select=je,t.selectLimit=Se,t.selectSeries=Ce,t.wrapSync=n,Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof e&&void 0!==mn?e:t.async=t.async||{})}.call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("timers").setImmediate)},{_process:26,timers:27}],2:[function(t,n,e){!function(){"use strict";function r(t){function n(t,e,n){for(var r=e;r<n;r++)t[r]=1-r;if(0<a.array[a.array.length-1]){for(var i=a.array.length-2;0<a.array[i];)i--;t[e]=-i}}function r(t,e,n){for(var r=e;r<n;r++)t[r]=-r-1}function i(t){var t=2*t,e=u(o.signed,o.bytes,t),e=(n(e,o.array.length,t),e.set(o.array),o.array=null,o.array=e,u(a.signed,a.bytes,t));r(e,a.array.length,t),e.set(a.array),a.array=null,a.array=e}var e=1,o={signed:!0,bytes:4,array:u(!0,4,t=null==t?1024:t)},a={signed:!0,bytes:4,array:u(!0,4,t)};return o.array[0]=1,a.array[0]=0,n(o.array,1,o.array.length),r(a.array,1,a.array.length),{getBaseBuffer:function(){return o.array},getCheckBuffer:function(){return a.array},loadBaseBuffer:function(t){return o.array=t,this},loadCheckBuffer:function(t){return a.array=t,this},size:function(){return Math.max(o.array.length,a.array.length)},getBase:function(t){return o.array.length-1<t?1-t:o.array[t]},getCheck:function(t){return a.array.length-1<t?-t-1:a.array[t]},setBase:function(t,e){o.array.length-1<t&&i(t),o.array[t]=e},setCheck:function(t,e){a.array.length-1<t&&i(t),a.array[t]=e},setFirstUnusedNode:function(t){e=t},getFirstUnusedNode:function(){return e},shrink:function(){for(var t=this.size()-1;!(0<=a.array[t]);)t--;o.array=o.array.subarray(0,t+2),a.array=a.array.subarray(0,t+2)},calc:function(){for(var t=0,e=a.array.length,n=0;n<e;n++)a.array[n]<0&&t++;return{all:e,unused:t,efficiency:(e-t)/e}},dump:function(){for(var t="",e="",n=0;n<o.array.length;n++)t=t+" "+this.getBase(n);for(n=0;n<a.array.length;n++)e=e+" "+this.getCheck(n);return console.log("base:"+t),console.log("chck:"+e),"base:"+t+" chck:"+e}}}function e(t){this.bc=r(t),this.keys=[]}function i(t){this.bc=t,this.bc.shrink()}e.prototype.append=function(t,e){return this.keys.push({k:t,v:e}),this},e.prototype.build=function(t,e){return null!=(t=null==t?this.keys:t)&&(null==e&&(e=!1),t=t.map(function(t){return{k:c(t.k+"\0"),v:t.v}}),this.keys=e?t:t.sort(function(t,e){for(var n=t.k,r=e.k,i=Math.min(n.length,r.length),o=0;o<i;o++)if(n[o]!==r[o])return n[o]-r[o];return n.length-r.length}),t=null,this._build(0,0,0,this.keys.length)),new i(this.bc)},e.prototype._build=function(t,e,n,r){var i=this.getChildrenInfo(e,n,r),o=this.findAllocatableBase(i);this.setBC(t,i,o);for(var a=0;a<i.length;a+=3){var u,s,c=i[a];0!==c&&(u=i[a+1],s=i[a+2],this._build(o+c,e+1,u,s))}},e.prototype.getChildrenInfo=function(t,e,n){var r=this.keys[e].k[t],i=0,o=new Int32Array(3*n);o[i++]=r;for(var a=o[i++]=e,u=e;a<e+n;a++){var s=this.keys[a].k[t];r!==s&&(o[i++]=a-u,r=o[i++]=s,u=o[i++]=a)}return o[i++]=a-u,o.subarray(0,i)},e.prototype.setBC=function(t,e,n){var r,i=this.bc;for(i.setBase(t,n),r=0;r<e.length;r+=3){var o=e[r],a=n+o,u=-i.getBase(a),s=-i.getCheck(a),s=(a!==i.getFirstUnusedNode()?i.setCheck(u,-s):i.setFirstUnusedNode(s),i.setBase(s,-u),t);i.setCheck(a,s),0===o&&(u=e[r+1],o=-(s=null==(s=this.keys[u].v)?0:s)-1,i.setBase(a,o))}},e.prototype.findAllocatableBase=function(t){for(var e,n=this.bc,r=n.getFirstUnusedNode();;)if((e=r-t[0])<0)r=-n.getCheck(r);else{for(var i=!0,o=0;o<t.length;o+=3){var a=e+t[o];if(!this.isUnusedNode(a)){r=-n.getCheck(r),i=!1;break}}if(i)return e}},e.prototype.isUnusedNode=function(t){var e=this.bc.getCheck(t);return 0!==t&&e<0},i.prototype.contain=function(t){for(var e=this.bc,n=c(t+="\0"),r=0,i=0;i<n.length;i++){var o=n[i];if(-1===(o=this.traverse(r,o)))return!1;if(e.getBase(o)<=0)return!0;r=o}return!1},i.prototype.lookup=function(t){for(var e=c(t+="\0"),n=0,r=-1,i=0;i<e.length;i++){var o=e[i];if(-1===(r=this.traverse(n,o)))return-1;n=r}t=this.bc.getBase(r);return t<=0?-t-1:-1},i.prototype.commonPrefixSearch=function(t){for(var e=c(t),n=0,r=[],i=0;i<e.length;i++){var o=e[i];if(-1===(o=this.traverse(n,o)))break;var a,n=o,o=this.traverse(o,0);-1!==o&&(a={},(o=this.bc.getBase(o))<=0&&(a.v=-o-1),a.k=l(s(e,0,i+1)),r.push(a))}return r},i.prototype.traverse=function(t,e){e=this.bc.getBase(t)+e;return this.bc.getCheck(e)===t?e:-1},i.prototype.size=function(){return this.bc.size()},i.prototype.calc=function(){return this.bc.calc()},i.prototype.dump=function(){return this.bc.dump()};var u=function(t,e,n){if(t)switch(e){case 1:return new Int8Array(n);case 2:return new Int16Array(n);case 4:return new Int32Array(n);default:throw new RangeError("Invalid newArray parameter element_bytes:"+e)}else switch(e){case 1:return new Uint8Array(n);case 2:return new Uint16Array(n);case 4:return new Uint32Array(n);default:throw new RangeError("Invalid newArray parameter element_bytes:"+e)}},s=function(t,e,n){var r=new ArrayBuffer(n),r=new Uint8Array(r,0,n),t=t.subarray(e,n);return r.set(t),r},c=function(t){for(var e=new Uint8Array(new ArrayBuffer(4*t.length)),n=0,r=0;n<t.length;){var i=t.charCodeAt(n++);if(55296<=i&&i<=56319){var o=i,a=t.charCodeAt(n++);if(!(56320<=a&&a<=57343))return null;o=1024*(o-55296)+65536+(a-56320)}else o=i;o<128?e[r++]=o:o<2048?(e[r++]=o>>>6|192,e[r++]=63&o|128):o<65536?(e[r++]=o>>>12|224,e[r++]=o>>6&63|128,e[r++]=63&o|128):o<1<<21&&(e[r++]=o>>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=63&o|128)}return e.subarray(0,r)},l=function(t){for(var e,n,r="",i=0;i<t.length;)(e=(e=t[i++])<128?e:e>>5==6?(31&e)<<6|63&t[i++]:e>>4==14?(15&e)<<12|(63&t[i++])<<6|63&t[i++]:(7&e)<<18|(63&t[i++])<<12|(63&t[i++])<<6|63&t[i++])<65536?r+=String.fromCharCode(e):(n=55296|(e-=65536)>>10,r+=String.fromCharCode(n,56320|1023&e));return r},t={builder:function(t){return new e(t)},load:function(t,e){var n=r(0);return n.loadBaseBuffer(t),n.loadCheckBuffer(e),new i(n)}};void 0===n?window.doublearray=t:n.exports=t}()},{}],3:[function(t,e,n){"use strict";var r=t("./viterbi/ViterbiBuilder"),i=t("./viterbi/ViterbiSearcher"),o=t("./util/IpadicFormatter"),a=/、|。/;function u(t){this.token_info_dictionary=t.token_info_dictionary,this.unknown_dictionary=t.unknown_dictionary,this.viterbi_builder=new r(t),this.viterbi_searcher=new i(t.connection_costs),this.formatter=new o}u.splitByPunctuation=function(t){for(var e=[],n=t;""!==n;){var r=n.search(a);if(r<0){e.push(n);break}e.push(n.substring(0,r+1)),n=n.substring(r+1)}return e},u.prototype.tokenize=function(t){for(var e=u.splitByPunctuation(t),n=[],r=0;r<e.length;r++){var i=e[r];this.tokenizeForSentence(i,n)}return n},u.prototype.tokenizeForSentence=function(t,e){null==e&&(e=[]);var t=this.getLattice(t),n=this.viterbi_searcher.search(t),r=0;0<e.length&&(r=e[e.length-1].word_position);for(var i=0;i<n.length;i++){var o,a,u=n[i],u="KNOWN"===u.type?(o=null==(a=this.token_info_dictionary.getFeatures(u.name))?[]:a.split(","),this.formatter.formatEntry(u.name,r+u.start_pos,u.type,o)):"UNKNOWN"===u.type?(o=null==(a=this.unknown_dictionary.getFeatures(u.name))?[]:a.split(","),this.formatter.formatUnknownEntry(u.name,r+u.start_pos,u.type,o,u.surface_form)):this.formatter.formatEntry(u.name,r+u.start_pos,u.type,[]);e.push(u)}return e},u.prototype.getLattice=function(t){return this.viterbi_builder.build(t)},e.exports=u},{"./util/IpadicFormatter":19,"./viterbi/ViterbiBuilder":21,"./viterbi/ViterbiSearcher":24}],4:[function(t,e,n){"use strict";var r=t("./Tokenizer"),i=t("./loader/NodeDictionaryLoader");function o(t){null==t.dicPath?this.dic_path="dict/":this.dic_path=t.dicPath}o.prototype.build=function(n){new i(this.dic_path).load(function(t,e){n(t,new r(e))})},e.exports=o},{"./Tokenizer":3,"./loader/NodeDictionaryLoader":16}],5:[function(t,e,n){"use strict";e.exports=function(t,e,n,r,i){this.class_id=t,this.class_name=e,this.is_always_invoke=n,this.is_grouping=r,this.max_length=i}},{}],6:[function(t,e,n){"use strict";var i=t("./InvokeDefinitionMap"),o=t("./CharacterClass"),r=t("../util/SurrogateAwareString"),c="DEFAULT";function a(){this.character_category_map=new Uint8Array(65536),this.compatible_category_map=new Uint32Array(65536),this.invoke_definition_map=null}a.load=function(t,e,n){var r=new a;return r.character_category_map=t,r.compatible_category_map=e,r.invoke_definition_map=i.load(n),r},a.parseCharCategory=function(t,e){var n=e[1],r=parseInt(e[2]),i=parseInt(e[3]),e=parseInt(e[4]);return!isFinite(r)||0!==r&&1!==r?(console.log("char.def parse error. INVOKE is 0 or 1 in:"+r),null):!isFinite(i)||0!==i&&1!==i?(console.log("char.def parse error. GROUP is 0 or 1 in:"+i),null):!isFinite(e)||e<0?(console.log("char.def parse error. LENGTH is 1 to n:"+e),null):new o(t,n,1===r,1===i,e)},a.parseCategoryMapping=function(t){var e=parseInt(t[1]),n=t[2],t=3<t.length?t.slice(3):[];return(!isFinite(e)||e<0||65535<e)&&console.log("char.def parse error. CODE is invalid:"+e),{start:e,default:n,compatible:t}},a.parseRangeCategoryMapping=function(t){var e=parseInt(t[1]),n=parseInt(t[2]),r=t[3],t=4<t.length?t.slice(4):[];return(!isFinite(e)||e<0||65535<e)&&console.log("char.def parse error. CODE is invalid:"+e),(!isFinite(n)||n<0||65535<n)&&console.log("char.def parse error. CODE is invalid:"+n),{start:e,end:n,default:r,compatible:t}},a.prototype.initCategoryMappings=function(t){if(null!=t)for(var e=0;e<t.length;e++)for(var n=t[e],r=n.end||n.start,i=n.start;i<=r;i++){this.character_category_map[i]=this.invoke_definition_map.lookup(n.default);for(var o=0;o<n.compatible.length;o++){var a=this.compatible_category_map[i],u=n.compatible[o];null!=u&&null!=(u=this.invoke_definition_map.lookup(u))&&(a|=1<<u,this.compatible_category_map[i]=a)}}var s=this.invoke_definition_map.lookup(c);if(null!=s)for(i=0;i<this.character_category_map.length;i++)0===this.character_category_map[i]&&(this.character_category_map[i]=1<<s)},a.prototype.lookupCompatibleCategory=function(t){var e,n=[],t=t.charCodeAt(0);if(null!=(e=t<this.compatible_category_map.length?this.compatible_category_map[t]:e)&&0!==e)for(var r=0;r<32;r++)if(e<<31-r>>>31==1){var i=this.invoke_definition_map.getCharacterClass(r);if(null==i)continue;n.push(i)}return n},a.prototype.lookup=function(t){var e,n=t.charCodeAt(0);return r.isSurrogatePair(t)?e=this.invoke_definition_map.lookup(c):n<this.character_category_map.length&&(e=this.character_category_map[n]),null==e&&(e=this.invoke_definition_map.lookup(c)),this.invoke_definition_map.getCharacterClass(e)},e.exports=a},{"../util/SurrogateAwareString":20,"./CharacterClass":5,"./InvokeDefinitionMap":9}],7:[function(t,e,n){"use strict";function r(t,e){this.forward_dimension=t,this.backward_dimension=e,this.buffer=new Int16Array(t*e+2),this.buffer[0]=t,this.buffer[1]=e}r.prototype.put=function(t,e,n){t=t*this.backward_dimension+e+2;if(this.buffer.length<t+1)throw"ConnectionCosts buffer overflow";this.buffer[t]=n},r.prototype.get=function(t,e){t=t*this.backward_dimension+e+2;if(this.buffer.length<t+1)throw"ConnectionCosts buffer overflow";return this.buffer[t]},r.prototype.loadConnectionCosts=function(t){this.forward_dimension=t[0],this.backward_dimension=t[1],this.buffer=t},e.exports=r},{}],8:[function(t,e,n){"use strict";var i=t("doublearray"),o=t("./TokenInfoDictionary"),a=t("./ConnectionCosts"),u=t("./UnknownDictionary");function r(t,e,n,r){this.trie=null!=t?t:i.builder(0).build([{k:"",v:1}]),this.token_info_dictionary=null!=e?e:new o,this.connection_costs=null!=n?n:new a(0,0),this.unknown_dictionary=null!=r?r:new u}r.prototype.loadTrie=function(t,e){return this.trie=i.load(t,e),this},r.prototype.loadTokenInfoDictionaries=function(t,e,n){return this.token_info_dictionary.loadDictionary(t),this.token_info_dictionary.loadPosVector(e),this.token_info_dictionary.loadTargetMap(n),this},r.prototype.loadConnectionCosts=function(t){return this.connection_costs.loadConnectionCosts(t),this},r.prototype.loadUnknownDictionaries=function(t,e,n,r,i,o){return this.unknown_dictionary.loadUnknownDictionaries(t,e,n,r,i,o),this},e.exports=r},{"./ConnectionCosts":7,"./TokenInfoDictionary":10,"./UnknownDictionary":11,doublearray:2}],9:[function(t,e,n){"use strict";var c=t("../util/ByteBuffer"),l=t("./CharacterClass");function f(){this.map=[],this.lookup_table={}}f.load=function(t){for(var e=new f,n=[],r=new c(t);r.position+1<r.size();){var i=n.length,o=r.get(),a=r.get(),u=r.getInt(),s=r.getString();n.push(new l(i,s,o,a,u))}return e.init(n),e},f.prototype.init=function(t){if(null!=t)for(var e=0;e<t.length;e++){var n=t[e];this.map[e]=n,this.lookup_table[n.class_name]=e}},f.prototype.getCharacterClass=function(t){return this.map[t]},f.prototype.lookup=function(t){t=this.lookup_table[t];return null==t?null:t},f.prototype.toBuffer=function(){for(var t=new c,e=0;e<this.map.length;e++){var n=this.map[e];t.put(n.is_always_invoke),t.put(n.is_grouping),t.putInt(n.max_length),t.putString(n.class_name)}return t.shrink(),t.buffer},e.exports=f},{"../util/ByteBuffer":18,"./CharacterClass":5}],10:[function(t,e,n){"use strict";var a=t("../util/ByteBuffer");function r(){this.dictionary=new a(10485760),this.target_map={},this.pos_buffer=new a(10485760)}r.prototype.buildDictionary=function(t){for(var e={},n=0;n<t.length;n++){var r,i,o,a,u,s=t[n];s.length<4||(r=s[0],i=s[1],o=s[2],a=s[3],u=s.slice(4).join(","),isFinite(i)&&isFinite(o)&&isFinite(a)||console.log(s),e[this.put(i,o,a,r,u)]=r)}return this.dictionary.shrink(),this.pos_buffer.shrink(),e},r.prototype.put=function(t,e,n,r,i){var o=this.dictionary.position,a=this.pos_buffer.position;return this.dictionary.putShort(t),this.dictionary.putShort(e),this.dictionary.putShort(n),this.dictionary.putInt(a),this.pos_buffer.putString(r+","+i),o},r.prototype.addMapping=function(t,e){var n=this.target_map[t];(n=null==n?[]:n).push(e),this.target_map[t]=n},r.prototype.targetMapToBuffer=function(){var t,e=new a,n=Object.keys(this.target_map).length;for(t in e.putInt(n),this.target_map){var r=this.target_map[t],i=r.length;e.putInt(parseInt(t)),e.putInt(i);for(var o=0;o<r.length;o++)e.putInt(r[o])}return e.shrink()},r.prototype.loadDictionary=function(t){return this.dictionary=new a(t),this},r.prototype.loadPosVector=function(t){return this.pos_buffer=new a(t),this},r.prototype.loadTargetMap=function(t){var e=new a(t);for(e.position=0,this.target_map={},e.readInt();!(e.buffer.length<e.position+1);)for(var n=e.readInt(),r=e.readInt(),i=0;i<r;i++){var o=e.readInt();this.addMapping(n,o)}return this},r.prototype.getFeatures=function(t){var t=parseInt(t);return isNaN(t)?"":(t=this.dictionary.getInt(t+6),this.pos_buffer.getString(t))},e.exports=r},{"../util/ByteBuffer":18}],11:[function(t,e,n){"use strict";var r=t("./TokenInfoDictionary"),a=t("./CharacterDefinition"),i=t("../util/ByteBuffer");function o(){this.dictionary=new i(10485760),this.target_map={},this.pos_buffer=new i(10485760),this.character_definition=null}(o.prototype=Object.create(r.prototype)).characterDefinition=function(t){return this.character_definition=t,this},o.prototype.lookup=function(t){return this.character_definition.lookup(t)},o.prototype.lookupCompatibleCategory=function(t){return this.character_definition.lookupCompatibleCategory(t)},o.prototype.loadUnknownDictionaries=function(t,e,n,r,i,o){this.loadDictionary(t),this.loadPosVector(e),this.loadTargetMap(n),this.character_definition=a.load(r,i,o)},e.exports=o},{"../util/ByteBuffer":18,"./CharacterDefinition":6,"./TokenInfoDictionary":10}],12:[function(t,e,n){"use strict";var r=t("../CharacterDefinition"),i=t("../InvokeDefinitionMap"),o=/^(\w+)\s+(\d)\s+(\d)\s+(\d)/,a=/^(0x[0-9A-F]{4})(?:\s+([^#\s]+))(?:\s+([^#\s]+))*/,u=/^(0x[0-9A-F]{4})\.\.(0x[0-9A-F]{4})(?:\s+([^#\s]+))(?:\s+([^#\s]+))*/;function s(){this.char_def=new r,this.char_def.invoke_definition_map=new i,this.character_category_definition=[],this.category_mapping=[]}s.prototype.putLine=function(t){var e,n=o.exec(t);null==n?(null!=(e=a.exec(t))&&(e=r.parseCategoryMapping(e),this.category_mapping.push(e)),null!=(e=u.exec(t))&&(t=r.parseRangeCategoryMapping(e),this.category_mapping.push(t))):(e=this.character_category_definition.length,null!=(t=r.parseCharCategory(e,n))&&this.character_category_definition.push(t))},s.prototype.build=function(){return this.char_def.invoke_definition_map.init(this.character_category_definition),this.char_def.initCategoryMappings(this.category_mapping),this.char_def},e.exports=s},{"../CharacterDefinition":6,"../InvokeDefinitionMap":9}],13:[function(t,e,n){"use strict";var r=t("../ConnectionCosts");function i(){this.lines=0,this.connection_cost=null}i.prototype.putLine=function(t){if(0===this.lines){var e=t.split(" "),n=e[0],e=e[1];if(n<0||e<0)throw"Parse error of matrix.def";this.connection_cost=new r(n,e),this.lines++}else{n=t.split(" ");if(3===n.length){e=parseInt(n[0]),t=parseInt(n[1]),n=parseInt(n[2]);if(e<0||t<0||!isFinite(e)||!isFinite(t)||this.connection_cost.forward_dimension<=e||this.connection_cost.backward_dimension<=t)throw"Parse error of matrix.def";this.connection_cost.put(e,t,n),this.lines++}}return this},i.prototype.build=function(){return this.connection_cost},e.exports=i},{"../ConnectionCosts":7}],14:[function(t,e,n){"use strict";var r=t("doublearray"),i=t("../DynamicDictionaries"),o=t("../TokenInfoDictionary"),a=t("./ConnectionCostsBuilder"),u=t("./CharacterDefinitionBuilder"),s=t("../UnknownDictionary");function c(){this.tid_entries=[],this.unk_entries=[],this.cc_builder=new a,this.cd_builder=new u}c.prototype.addTokenInfoDictionary=function(t){t=t.split(",");return this.tid_entries.push(t),this},c.prototype.putCostMatrixLine=function(t){return this.cc_builder.putLine(t),this},c.prototype.putCharDefLine=function(t){return this.cd_builder.putLine(t),this},c.prototype.putUnkDefLine=function(t){return this.unk_entries.push(t.split(",")),this},c.prototype.build=function(){var t=this.buildTokenInfoDictionary(),e=this.buildUnknownDictionary();return new i(t.trie,t.token_info_dictionary,this.cc_builder.build(),e)},c.prototype.buildTokenInfoDictionary=function(){var t,e=new o,n=e.buildDictionary(this.tid_entries),r=this.buildDoubleArray();for(t in n){var i=n[t],i=r.lookup(i);e.addMapping(i,t)}return{trie:r,token_info_dictionary:e}},c.prototype.buildUnknownDictionary=function(){var t,e=new s,n=e.buildDictionary(this.unk_entries),r=this.cd_builder.build();for(t in e.characterDefinition(r),n){var i=n[t],i=r.invoke_definition_map.lookup(i);e.addMapping(i,t)}return e},c.prototype.buildDoubleArray=function(){var e=0,t=this.tid_entries.map(function(t){return{k:t[0],v:e++}});return r.builder(1048576).build(t)},e.exports=c},{"../DynamicDictionaries":8,"../TokenInfoDictionary":10,"../UnknownDictionary":11,"./CharacterDefinitionBuilder":12,"./ConnectionCostsBuilder":13,doublearray:2}],15:[function(t,e,n){"use strict";var r=t("./TokenizerBuilder"),i=t("./dict/builder/DictionaryBuilder");e.exports={builder:function(t){return new r(t)},dictionaryBuilder:function(){return new i}}},{"./TokenizerBuilder":4,"./dict/builder/DictionaryBuilder":14}],16:[function(t,e,n){"use strict";var r=t("zlibjs/bin/gunzip.min.js"),i=t("./DictionaryLoader");function o(t){i.apply(this,[t])}(o.prototype=Object.create(i.prototype)).loadArrayBuffer=function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){var t;0<this.status&&200!==this.status?e(n.statusText,null):(t=this.response,t=new r.Zlib.Gunzip(new Uint8Array(t)).decompress(),e(null,t.buffer))},n.onerror=function(t){e(t,null)},n.send()},e.exports=o},{"./DictionaryLoader":17,"zlibjs/bin/gunzip.min.js":28}],17:[function(t,e,n){"use strict";var s=t("path"),c=t("async"),r=t("../dict/DynamicDictionaries");function i(t){this.dic=new r,this.dic_path=t}i.prototype.loadArrayBuffer=function(t,e){throw new Error("DictionaryLoader#loadArrayBuffer should be overwrite")},i.prototype.load=function(e){var u=this.dic,i=this.dic_path,o=this.loadArrayBuffer;c.parallel([function(n){c.map(["base.dat.gz","check.dat.gz"],function(t,n){o(s.join(i,t),function(t,e){if(t)return n(t);n(null,e)})},function(t,e){if(t)return n(t);t=new Int32Array(e[0]),e=new Int32Array(e[1]);u.loadTrie(t,e),n(null)})},function(r){c.map(["tid.dat.gz","tid_pos.dat.gz","tid_map.dat.gz"],function(t,n){o(s.join(i,t),function(t,e){if(t)return n(t);n(null,e)})},function(t,e){if(t)return r(t);var t=new Uint8Array(e[0]),n=new Uint8Array(e[1]),e=new Uint8Array(e[2]);u.loadTokenInfoDictionaries(t,n,e),r(null)})},function(n){o(s.join(i,"cc.dat.gz"),function(t,e){if(t)return n(t);t=new Int16Array(e);u.loadConnectionCosts(t),n(null)})},function(a){c.map(["unk.dat.gz","unk_pos.dat.gz","unk_map.dat.gz","unk_char.dat.gz","unk_compat.dat.gz","unk_invoke.dat.gz"],function(t,n){o(s.join(i,t),function(t,e){if(t)return n(t);n(null,e)})},function(t,e){if(t)return a(t);var t=new Uint8Array(e[0]),n=new Uint8Array(e[1]),r=new Uint8Array(e[2]),i=new Uint8Array(e[3]),o=new Uint32Array(e[4]),e=new Uint8Array(e[5]);u.loadUnknownDictionaries(t,n,r,i,o,e),a(null)})}],function(t){e(t,u)})},e.exports=i},{"../dict/DynamicDictionaries":8,async:1,path:25}],18:[function(t,e,n){"use strict";function r(t){var e;if(null==t)e=1048576;else{if("number"!=typeof t){if(t instanceof Uint8Array)return this.buffer=t,void(this.position=0);throw typeof t+" is invalid parameter type for ByteBuffer constructor"}e=t}this.buffer=new Uint8Array(e),this.position=0}r.prototype.size=function(){return this.buffer.length},r.prototype.reallocate=function(){var t=new Uint8Array(2*this.buffer.length);t.set(this.buffer),this.buffer=t},r.prototype.shrink=function(){return this.buffer=this.buffer.subarray(0,this.position),this.buffer},r.prototype.put=function(t){this.buffer.length<this.position+1&&this.reallocate(),this.buffer[this.position++]=t},r.prototype.get=function(t){return null==t&&(t=this.position,this.position+=1),this.buffer.length<t+1?0:this.buffer[t]},r.prototype.putShort=function(t){if(65535<t)throw t+" is over short value";var e=(65280&t)>>8;this.put(255&t),this.put(e)},r.prototype.getShort=function(t){var e;return null==t&&(t=this.position,this.position+=2),this.buffer.length<t+2?0:(e=this.buffer[t],32768&(t=(this.buffer[t+1]<<8)+e)?-(t-1^65535):t)},r.prototype.putInt=function(t){if(4294967295<t)throw t+" is over integer value";var e=(65280&t)>>8,n=(16711680&t)>>16,r=(4278190080&t)>>24;this.put(255&t),this.put(e),this.put(n),this.put(r)},r.prototype.getInt=function(t){var e,n,r;return null==t&&(t=this.position,this.position+=4),this.buffer.length<t+4?0:(e=this.buffer[t],n=this.buffer[t+1],r=this.buffer[t+2],(this.buffer[t+3]<<24)+(r<<16)+(n<<8)+e)},r.prototype.readInt=function(){var t=this.position;return this.position+=4,this.getInt(t)},r.prototype.putString=function(t){for(var e=function(t){for(var e=new Uint8Array(4*t.length),n=0,r=0;n<t.length;){var i=t.charCodeAt(n++);if(55296<=i&&i<=56319){var o=i,a=t.charCodeAt(n++);if(!(56320<=a&&a<=57343))return null;o=1024*(o-55296)+65536+(a-56320)}else o=i;o<128?e[r++]=o:o<2048?(e[r++]=o>>>6|192,e[r++]=63&o|128):o<65536?(e[r++]=o>>>12|224,e[r++]=o>>6&63|128,e[r++]=63&o|128):o<1<<21&&(e[r++]=o>>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=63&o|128)}return e.subarray(0,r)}(t),n=0;n<e.length;n++)this.put(e[n]);this.put(0)},r.prototype.getString=function(t){var e,n=[];for(null==t&&(t=this.position);!(this.buffer.length<t+1)&&0!==(e=this.get(t++));)n.push(e);this.position=t;for(var r,i,o=n,a="",u=0;u<o.length;)(r=(r=o[u++])<128?r:r>>5==6?(31&r)<<6|63&o[u++]:r>>4==14?(15&r)<<12|(63&o[u++])<<6|63&o[u++]:(7&r)<<18|(63&o[u++])<<12|(63&o[u++])<<6|63&o[u++])<65536?a+=String.fromCharCode(r):(i=55296|(r-=65536)>>10,a+=String.fromCharCode(i,56320|1023&r));return a},e.exports=r},{}],19:[function(t,e,n){"use strict";function r(){}r.prototype.formatEntry=function(t,e,n,r){var i={};return i.word_id=t,i.word_type=n,i.word_position=e,i.surface_form=r[0],i.pos=r[1],i.pos_detail_1=r[2],i.pos_detail_2=r[3],i.pos_detail_3=r[4],i.conjugated_type=r[5],i.conjugated_form=r[6],i.basic_form=r[7],i.reading=r[8],i.pronunciation=r[9],i},r.prototype.formatUnknownEntry=function(t,e,n,r,i){var o={};return o.word_id=t,o.word_type=n,o.word_position=e,o.surface_form=i,o.pos=r[1],o.pos_detail_1=r[2],o.pos_detail_2=r[3],o.pos_detail_3=r[4],o.conjugated_type=r[5],o.conjugated_form=r[6],o.basic_form=r[7],o},e.exports=r},{}],20:[function(t,e,n){"use strict";function r(t){this.str=t,this.index_mapping=[];for(var e=0;e<t.length;e++){var n=t.charAt(e);this.index_mapping.push(e),r.isSurrogatePair(n)&&e++}this.length=this.index_mapping.length}r.prototype.slice=function(t){return this.index_mapping.length<=t?"":(t=this.index_mapping[t],this.str.slice(t))},r.prototype.charAt=function(t){var e;return this.str.length<=t?"":(e=this.index_mapping[t],null==(t=this.index_mapping[t+1])?this.str.slice(e):this.str.slice(e,t))},r.prototype.charCodeAt=function(t){var e;return this.index_mapping.length<=t?NaN:(t=this.index_mapping[t],55296<=(e=this.str.charCodeAt(t))&&e<=56319&&t<this.str.length&&56320<=(t=this.str.charCodeAt(t+1))&&t<=57343?1024*(e-55296)+t-56320+65536:e)},r.prototype.toString=function(){return this.str},r.isSurrogatePair=function(t){t=t.charCodeAt(0);return 55296<=t&&t<=56319},e.exports=r},{}],21:[function(t,e,n){"use strict";var j=t("./ViterbiNode"),S=t("./ViterbiLattice"),C=t("../util/SurrogateAwareString");function r(t){this.trie=t.trie,this.token_info_dictionary=t.token_info_dictionary,this.unknown_dictionary=t.unknown_dictionary}r.prototype.build=function(t){for(var e=new S,n=new C(t),r=0;r<n.length;r++){for(var i=n.slice(r),o=this.trie.commonPrefixSearch(i),a=0;a<o.length;a++)for(var u=o[a].v,s=o[a].k,c=this.token_info_dictionary.target_map[u],l=0;l<c.length;l++){var f=parseInt(c[l]),h=this.token_info_dictionary.dictionary.getShort(f),p=this.token_info_dictionary.dictionary.getShort(f+2),d=this.token_info_dictionary.dictionary.getShort(f+4);e.append(new j(f,d,r+1,s.length,"KNOWN",h,p,s))}var y=new C(i),i=new C(y.charAt(0)),g=this.unknown_dictionary.lookup(i.toString());if(null==o||0===o.length||1===g.is_always_invoke){if(s=i,1===g.is_grouping&&1<y.length)for(var m=1;m<y.length;m++){var v=y.charAt(m),b=this.unknown_dictionary.lookup(v);if(g.class_name!==b.class_name)break;s+=v}for(var _=this.unknown_dictionary.target_map[g.class_id],w=0;w<_.length;w++){var k=parseInt(_[w]);h=this.unknown_dictionary.dictionary.getShort(k),p=this.unknown_dictionary.dictionary.getShort(k+2),d=this.unknown_dictionary.dictionary.getShort(k+4),e.append(new j(k,d,r+1,s.length,"UNKNOWN",h,p,s.toString()))}}}return e.appendEos(),e},e.exports=r},{"../util/SurrogateAwareString":20,"./ViterbiLattice":22,"./ViterbiNode":23}],22:[function(t,e,n){"use strict";var r=t("./ViterbiNode");function i(){this.nodes_end_at=[],this.nodes_end_at[0]=[new r(-1,0,0,0,"BOS",0,0,"")],this.eos_pos=1}i.prototype.append=function(t){var e=t.start_pos+t.length-1,n=(this.eos_pos<e&&(this.eos_pos=e),this.nodes_end_at[e]);(n=null==n?[]:n).push(t),this.nodes_end_at[e]=n},i.prototype.appendEos=function(){var t=this.nodes_end_at.length;this.eos_pos++,this.nodes_end_at[t]=[new r(-1,0,this.eos_pos,0,"EOS",0,0,"")]},e.exports=i},{"./ViterbiNode":23}],23:[function(t,e,n){"use strict";e.exports=function(t,e,n,r,i,o,a,u){this.name=t,this.cost=e,this.start_pos=n,this.length=r,this.left_id=o,this.right_id=a,this.prev=null,this.surface_form=u,this.shortest_cost="BOS"===i?0:Number.MAX_VALUE,this.type=i}},{}],24:[function(t,e,n){"use strict";function r(t){this.connection_costs=t}r.prototype.search=function(t){return t=this.forward(t),this.backward(t)},r.prototype.forward=function(t){for(var e,n,r=1;r<=t.eos_pos;r++){var i=t.nodes_end_at[r];if(null!=i)for(e=0;e<i.length;e++){var o,a=i[e],u=Number.MAX_VALUE,s=t.nodes_end_at[a.start_pos-1];if(null!=s){for(n=0;n<s.length;n++){var c=s[n],l=null==a.left_id||null==c.right_id?(console.log("Left or right is null"),0):this.connection_costs.get(c.right_id,a.left_id),l=c.shortest_cost+l+a.cost;l<u&&(o=c,u=l)}a.prev=o,a.shortest_cost=u}}}return t},r.prototype.backward=function(t){var e=[],n=t.nodes_end_at[t.nodes_end_at.length-1][0].prev;if(null==n)return[];for(;"BOS"!==n.type;){if(e.push(n),null==n.prev)return[];n=n.prev}return e.reverse()},e.exports=r},{}],25:[function(t,e,c){!function(i){function o(t,e){for(var n=0,r=t.length-1;0<=r;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;)t.unshift("..");return t}function a(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}c.resolve=function(){for(var t="",e=!1,n=arguments.length-1;-1<=n&&!e;n--){var r=0<=n?arguments[n]:i.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(t=r+"/"+t,e="/"===r.charAt(0))}return(e?"/":"")+o(a(t.split("/"),function(t){return!!t}),!e).join("/")||"."},c.normalize=function(t){var e=c.isAbsolute(t),n="/"===r(t,-1);return(t=(t=o(a(t.split("/"),function(t){return!!t}),!e).join("/"))||e?t:".")&&n&&(t+="/"),(e?"/":"")+t},c.isAbsolute=function(t){return"/"===t.charAt(0)},c.join=function(){var t=Array.prototype.slice.call(arguments,0);return c.normalize(a(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},c.relative=function(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;0<=n&&""===t[n];n--);return n<e?[]:t.slice(e,n-e+1)}t=c.resolve(t).substr(1),e=c.resolve(e).substr(1);for(var r=n(t.split("/")),i=n(e.split("/")),o=Math.min(r.length,i.length),a=o,u=0;u<o;u++)if(r[u]!==i[u]){a=u;break}for(var s=[],u=a;u<r.length;u++)s.push("..");return(s=s.concat(i.slice(a))).join("/")},c.sep="/",c.delimiter=":",c.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=47===t.charCodeAt(0),n=-1,r=!0,i=t.length-1;1<=i;--i)if(47===t.charCodeAt(i)){if(!r){n=i;break}}else r=!1;return-1===n?e?"/":".":e&&1===n?"/":t.slice(0,n)},c.basename=function(t,e){t=function(t){"string"!=typeof t&&(t+="");for(var e=0,n=-1,r=!0,i=t.length-1;0<=i;--i)if(47===t.charCodeAt(i)){if(!r){e=i+1;break}}else-1===n&&(r=!1,n=i+1);return-1===n?"":t.slice(e,n)}(t);return t=e&&t.substr(-1*e.length)===e?t.substr(0,t.length-e.length):t},c.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,n=0,r=-1,i=!0,o=0,a=t.length-1;0<=a;--a){var u=t.charCodeAt(a);if(47!==u)-1===r&&(i=!1,r=a+1),46===u?-1===e?e=a:1!==o&&(o=1):-1!==e&&(o=-1);else if(!i){n=a+1;break}}return-1===e||-1===r||0===o||1===o&&e===r-1&&e===n+1?"":t.slice(e,r)};var r="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}.call(this,t("_process"))},{_process:26}],26:[function(t,e,n){var r,i,e=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return(r=setTimeout)(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}var s,c=[],l=!1,f=-1;function h(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length)&&p()}function p(){if(!l){var t=u(h);l=!0;for(var e=c.length;e;){for(s=c,c=[];++f<e;)s&&s[f].run();f=-1,e=c.length}s=null,l=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return(i=clearTimeout)(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}e.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||u(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=y,e.addListener=y,e.once=y,e.off=y,e.removeListener=y,e.removeAllListeners=y,e.emit=y,e.prependListener=y,e.prependOnceListener=y,e.listeners=function(t){return[]},e.binding=function(t){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(t){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},{}],27:[function(s,t,c){!function(t,e){var r=s("process/browser.js").nextTick,n=Function.prototype.apply,i=Array.prototype.slice,o={},a=0;function u(t,e){this._id=t,this._clearFn=e}c.setTimeout=function(){return new u(n.call(setTimeout,window,arguments),clearTimeout)},c.setInterval=function(){return new u(n.call(setInterval,window,arguments),clearInterval)},c.clearTimeout=c.clearInterval=function(t){t.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(window,this._id)},c.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},c.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},c._unrefActive=c.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},c.setImmediate="function"==typeof t?t:function(t){var e=a++,n=!(arguments.length<2)&&i.call(arguments,1);return o[e]=!0,r(function(){o[e]&&(n?t.apply(null,n):t.call(null),c.clearImmediate(e))}),e},c.clearImmediate="function"==typeof e?e:function(t){delete o[t]}}.call(this,s("timers").setImmediate,s("timers").clearImmediate)},{"process/browser.js":26,timers:27}],28:[function(t,e,n){!function(){"use strict";function _(t){throw t}var w=void 0,o=this;function t(t,e){var n,r=t.split("."),i=o;r[0]in i||!i.execScript||i.execScript("var "+r[0]);for(;r.length&&(n=r.shift());)r.length||e===w?i=i[n]||(i[n]={}):i[n]=e}var e,k="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView;for(new(k?Uint8Array:Array)(256),e=0;e<256;++e)for(var n=e>>>1;n;n>>>=1);function m(t,e,n){for(var r="number"==typeof e?e:e=0,n="number"==typeof n?n:t.length,i=-1,r=7&n;r--;++e)i=i>>>8^a[255&(i^t[e])];for(r=n>>3;r--;e+=8)i=(i=(i=(i=(i=(i=(i=(i=i>>>8^a[255&(i^t[e])])>>>8^a[255&(i^t[e+1])])>>>8^a[255&(i^t[e+2])])>>>8^a[255&(i^t[e+3])])>>>8^a[255&(i^t[e+4])])>>>8^a[255&(i^t[e+5])])>>>8^a[255&(i^t[e+6])])>>>8^a[255&(i^t[e+7])];return(4294967295^i)>>>0}var r=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],a=k?new Uint32Array(r):r;function v(){}function j(t){for(var e,n,r,i,o,a,u,s,c,l=t.length,f=0,h=Number.POSITIVE_INFINITY,p=0;p<l;++p)t[p]>f&&(f=t[p]),t[p]<h&&(h=t[p]);for(e=1<<f,n=new(k?Uint32Array:Array)(e),r=1,i=0,o=2;r<=f;){for(p=0;p<l;++p)if(t[p]===r){for(u=i,s=a=0;s<r;++s)a=a<<1|1&u,u>>=1;for(c=r<<16|p,s=a;s<e;s+=o)n[s]=c;++i}++r,i<<=1,o<<=1}return[n,f,h]}v.prototype.getName=function(){return this.name},v.prototype.getData=function(){return this.data},v.prototype.G=function(){return this.H};for(var i=[],u=0;u<288;u++)switch(!0){case u<=143:i.push([u+48,8]);break;case u<=255:i.push([u-144+400,9]);break;case u<=279:i.push([u-256,7]);break;case u<=287:i.push([u-280+192,8]);break;default:_("invalid literal: "+u)}r=function(){for(var t,e=[],n=3;n<=258;n++)t=function(t){switch(!0){case 3===t:return[257,t-3,0];case 4===t:return[258,t-4,0];case 5===t:return[259,t-5,0];case 6===t:return[260,t-6,0];case 7===t:return[261,t-7,0];case 8===t:return[262,t-8,0];case 9===t:return[263,t-9,0];case 10===t:return[264,t-10,0];case t<=12:return[265,t-11,1];case t<=14:return[266,t-13,1];case t<=16:return[267,t-15,1];case t<=18:return[268,t-17,1];case t<=22:return[269,t-19,2];case t<=26:return[270,t-23,2];case t<=30:return[271,t-27,2];case t<=34:return[272,t-31,2];case t<=42:return[273,t-35,3];case t<=50:return[274,t-43,3];case t<=58:return[275,t-51,3];case t<=66:return[276,t-59,3];case t<=82:return[277,t-67,4];case t<=98:return[278,t-83,4];case t<=114:return[279,t-99,4];case t<=130:return[280,t-115,4];case t<=162:return[281,t-131,5];case t<=194:return[282,t-163,5];case t<=226:return[283,t-195,5];case t<=257:return[284,t-227,5];case 258===t:return[285,t-258,0];default:_("invalid length: "+t)}}(n),e[n]=t[2]<<24|t[1]<<16|t[0];return e}();function b(t,e){switch(this.i=[],this.j=32768,this.d=this.f=this.c=this.n=0,this.input=k?new Uint8Array(t):t,this.o=!1,this.k=C,this.w=!1,e?(e.index&&(this.c=e.index),e.bufferSize&&(this.j=e.bufferSize),e.bufferType&&(this.k=e.bufferType),e.resize&&(this.w=e.resize)):e={},this.k){case S:this.a=32768,this.b=new(k?Uint8Array:Array)(32768+this.j+258);break;case C:this.a=0,this.b=new(k?Uint8Array:Array)(this.j),this.e=this.D,this.q=this.A,this.l=this.C;break;default:_(Error("invalid inflate mode"))}}k&&new Uint32Array(r);var S=0,C=1;b.prototype.g=function(){for(;!this.o;){var t=z(this,3);switch(1&t&&(this.o=!0),t>>>=1){case 0:var e=this.input,n=this.c,r=this.b,i=this.a,o=e.length,a=w,u=r.length,s=w;switch(this.d=this.f=0,o<=n+1&&_(Error("invalid uncompressed block header: LEN")),a=e[n++]|e[n++]<<8,o<=n+1&&_(Error("invalid uncompressed block header: NLEN")),a===~(e[n++]|e[n++]<<8)&&_(Error("invalid uncompressed block header: length verify")),n+a>e.length&&_(Error("input buffer is broken")),this.k){case S:for(;i+a>r.length;){if(a-=s=u-i,k)r.set(e.subarray(n,n+s),i),i+=s,n+=s;else for(;s--;)r[i++]=e[n++];this.a=i,r=this.e(),i=this.a}break;case C:for(;i+a>r.length;)r=this.e({t:2});break;default:_(Error("invalid inflate mode"))}if(k)r.set(e.subarray(n,n+a),i),i+=a,n+=a;else for(;a--;)r[i++]=e[n++];this.c=n,this.a=i,this.b=r;break;case 1:this.l(x,I);break;case 2:for(var c,l,f,h,o=z(this,5)+257,p=z(this,5)+1,d=z(this,4)+4,y=new(k?Uint8Array:Array)(A.length),g=w,m=w,v=w,b=w,b=0;b<d;++b)y[A[b]]=z(this,3);if(!k)for(b=d,d=y.length;b<d;++b)y[A[b]]=0;for(c=j(y),g=new(k?Uint8Array:Array)(o+p),b=0,f=o+p;b<f;)switch(h=T(this,c),h){case 16:for(v=3+z(this,2);v--;)g[b++]=m;break;case 17:for(v=3+z(this,3);v--;)g[b++]=0;m=0;break;case 18:for(v=11+z(this,7);v--;)g[b++]=0;m=0;break;default:m=g[b++]=h}p=j(k?g.subarray(0,o):g.slice(0,o)),l=j(k?g.subarray(o):g.slice(o)),this.l(p,l);break;default:_(Error("unknown BTYPE: "+t))}}return this.q()};for(var r=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],A=k?new Uint16Array(r):r,r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],c=k?new Uint16Array(r):r,r=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],l=k?new Uint8Array(r):r,r=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],f=k?new Uint16Array(r):r,r=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],h=k?new Uint8Array(r):r,s=new(k?Uint8Array:Array)(288),p=0,d=s.length;p<d;++p)s[p]=p<=143?8:p<=255?9:p<=279?7:8;for(var x=j(s),y=new(k?Uint8Array:Array)(30),g=0,E=y.length;g<E;++g)y[g]=5;var I=j(y);function z(t,e){for(var n,r=t.f,i=t.d,o=t.input,a=t.c,u=o.length;i<e;)u<=a&&_(Error("input buffer is broken")),r|=o[a++]<<i,i+=8;return n=r&(1<<e)-1,t.f=r>>>e,t.d=i-e,t.c=a,n}function T(t,e){for(var n=t.f,r=t.d,i=t.input,o=t.c,a=i.length,u=e[0],s=e[1];r<s&&!(a<=o);)n|=i[o++]<<r,r+=8;return(u=(e=u[n&(1<<s)-1])>>>16)>r&&_(Error("invalid code length: "+u)),t.f=n>>u,t.d=r-u,t.c=o,65535&e}function D(t){this.input=t,this.c=0,this.m=[],this.s=!1}b.prototype.l=function(t,e){var n=this.b,r=this.a;this.r=t;for(var i,o,a,u,s=n.length-258;256!==(i=T(this,t));)if(i<256)s<=r&&(this.a=r,n=this.e(),r=this.a),n[r++]=i;else for(u=c[o=i-257],0<l[o]&&(u+=z(this,l[o])),i=T(this,e),a=f[i],0<h[i]&&(a+=z(this,h[i])),s<=r&&(this.a=r,n=this.e(),r=this.a);u--;)n[r]=n[r++-a];for(;8<=this.d;)this.d-=8,this.c--;this.a=r},b.prototype.C=function(t,e){var n=this.b,r=this.a;this.r=t;for(var i,o,a,u,s=n.length;256!==(i=T(this,t));)if(i<256)s<=r&&(s=(n=this.e()).length),n[r++]=i;else for(u=c[o=i-257],0<l[o]&&(u+=z(this,l[o])),i=T(this,e),a=f[i],0<h[i]&&(a+=z(this,h[i])),s<r+u&&(s=(n=this.e()).length);u--;)n[r]=n[r++-a];for(;8<=this.d;)this.d-=8,this.c--;this.a=r},b.prototype.e=function(){var t,e,n=new(k?Uint8Array:Array)(this.a-32768),r=this.a-32768,i=this.b;if(k)n.set(i.subarray(32768,n.length));else for(t=0,e=n.length;t<e;++t)n[t]=i[t+32768];if(this.i.push(n),this.n+=n.length,k)i.set(i.subarray(r,32768+r));else for(t=0;t<32768;++t)i[t]=i[r+t];return this.a=32768,i},b.prototype.D=function(t){var e,n=this.input.length/this.c+1|0,r=this.input,i=this.b;return t&&("number"==typeof t.t&&(n=t.t),"number"==typeof t.z)&&(n+=t.z),r=n<2?(t=(r.length-this.c)/this.r[2]/2*258|0)<i.length?i.length+t:i.length<<1:i.length*n,k?(e=new Uint8Array(r)).set(i):e=i,this.b=e},b.prototype.q=function(){var t,e,n,r,i,o=0,a=this.b,u=this.i,s=new(k?Uint8Array:Array)(this.n+(this.a-32768));if(0===u.length)return k?this.b.subarray(32768,this.a):this.b.slice(32768,this.a);for(e=0,n=u.length;e<n;++e)for(r=0,i=(t=u[e]).length;r<i;++r)s[o++]=t[r];for(e=32768,n=this.a;e<n;++e)s[o++]=a[e];return this.i=[],this.buffer=s},b.prototype.A=function(){var t,e=this.a;return k?this.w?(t=new Uint8Array(e)).set(this.b.subarray(0,e)):t=this.b.subarray(0,e):(this.b.length>e&&(this.b.length=e),t=this.b),this.buffer=t},D.prototype.F=function(){return this.s||this.g(),this.m.slice()},D.prototype.g=function(){for(var t=this.input.length;this.c<t;){var e,n=new v,r=w,i=w,o=w,a=w,u=w,s=w,c=this.input,l=this.c;if(8!==(n.u=c[l++],n.v=c[l++],31===n.u&&139===n.v||_(Error("invalid file signature:"+n.u+","+n.v)),n.p=c[l++],n.p)&&_(Error("unknown compression method: "+n.p)),n.h=c[l++],e=c[l++]|c[l++]<<8|c[l++]<<16|c[l++]<<24,n.H=new Date(1e3*e),n.N=c[l++],n.M=c[l++],0<(4&n.h)&&(n.I=c[l++]|c[l++]<<8,l+=n.I),0<(8&n.h)){for(u=[],a=0;0<(o=c[l++]);)u[a++]=String.fromCharCode(o);n.name=u.join("")}if(0<(16&n.h)){for(u=[],a=0;0<(o=c[l++]);)u[a++]=String.fromCharCode(o);n.J=u.join("")}0<(2&n.h)&&(n.B=65535&m(c,0,l),n.B!==(c[l++]|c[l++]<<8))&&_(Error("invalid header crc16")),e=c[c.length-4]|c[c.length-3]<<8|c[c.length-2]<<16|c[c.length-1]<<24,r=new b(c,{index:l,bufferSize:i=c.length-l-4-4<512*e?e:i}),n.data=i=r.g(),l=r.c,n.K=s=(c[l++]|c[l++]<<8|c[l++]<<16|c[l++]<<24)>>>0,m(i,w,w)!==s&&_(Error("invalid CRC-32 checksum: 0x"+m(i,w,w).toString(16)+" / 0x"+s.toString(16))),n.L=e=(c[l++]|c[l++]<<8|c[l++]<<16|c[l++]<<24)>>>0,(4294967295&i.length)!=e&&_(Error("invalid input size: "+(4294967295&i.length)+" / "+e)),this.m.push(n),this.c=l}this.s=!0;for(var f,h=this.m,p=0,d=0,y=0,g=h.length;y<g;++y)d+=h[y].data.length;if(k)for(f=new Uint8Array(d),y=0;y<g;++y)f.set(h[y].data,p),p+=h[y].data.length;else{for(f=[],y=0;y<g;++y)f[y]=h[y].data;f=Array.prototype.concat.apply([],f)}return f},t("Zlib.Gunzip",D),t("Zlib.Gunzip.prototype.decompress",D.prototype.g),t("Zlib.Gunzip.prototype.getMembers",D.prototype.F),t("Zlib.GunzipMember",v),t("Zlib.GunzipMember.prototype.getName",v.prototype.getName),t("Zlib.GunzipMember.prototype.getData",v.prototype.getData),t("Zlib.GunzipMember.prototype.getMtime",v.prototype.G)}.call(this)},{}],29:[function(r,t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t},i=r("kuromoji"),o=(i=i)&&i.__esModule?i:{default:i};function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=!1,i=(!("undefined"!=typeof window)&&void 0!==t&&t.exports&&(u=!0),n(s,[{key:"init",value:function(){var t=this;return new Promise(function(n,r){var i=t;null==t._analyzer?o.default.builder({dicPath:t._dictPath}).build(function(t,e){if(t)return r(t);i._analyzer=e,n()}):r(new Error("This analyzer has already been initialized."))})}},{key:"parse",value:function(){var i=this,o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return new Promise(function(t,e){if(""===o.trim())return t([]);for(var n=i._analyzer.tokenize(o),r=0;r<n.length;r++)n[r].verbose={},n[r].verbose.word_id=n[r].word_id,n[r].verbose.word_type=n[r].word_type,n[r].verbose.word_position=n[r].word_position,delete n[r].word_id,delete n[r].word_type,delete n[r].word_position;t(n)})}}]),s);function s(){var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).dictPath,e=this,n=s;if(!(e instanceof n))throw new TypeError("Cannot call a class as a function");this._analyzer=null,this._dictPath=t||(u?r.resolve("kuromoji").replace(/src(?!.*src).*/,"dict/"):"node_modules/kuromoji/dict/")}e.default=i,t.exports=e.default},{kuromoji:15}]},{},[29])(29)})}},function(){return e||(0,t[b(t)[0]])((e={exports:{}}).exports,e),e.exports}),U="ぁ".charCodeAt(0)-"ァ".charCodeAt(0),F="ァ".charCodeAt(0)-"ぁ".charCodeAt(0),j={NIPPON:"nippon",PASSPORT:"passport",HEPBURN:"hepburn"},a=function(t){return"぀"<=(t=t[0])&&t<="ゟ"},S=function(t){return"゠"<=(t=t[0])&&t<="ヿ"},C=function(t){return n(t)||c(t)},N=p,P=d,M=y,A=class{constructor(){this._analyzer=null}async init(t){if(!t||"object"!=typeof t||"function"!=typeof t.init||"function"!=typeof t.parse)throw new Error("Invalid initialization parameter.");if(null!=this._analyzer)throw new Error("Kuroshiro has already been initialized.");await t.init(),this._analyzer=t}async convert(t,n){if((n=n||{}).to=n.to||"hiragana",n.mode=n.mode||"normal",n.romajiSystem=n.romajiSystem||j.HEPBURN,n.delimiter_start=n.delimiter_start||"(",n.delimiter_end=n.delimiter_end||")",t=t||"",-1===["hiragana","katakana","romaji"].indexOf(n.to))throw new Error("Invalid Target Syllabary.");if(-1===["normal","spaced","okurigana","furigana"].indexOf(n.mode))throw new Error("Invalid Conversion Mode.");if(-1===Object.keys(j).map(t=>j[t]).indexOf(n.romajiSystem))throw new Error("Invalid Romanization System.");var t=await this._analyzer.parse(t),i=m(t);if("normal"===n.mode||"spaced"===n.mode)switch(n.to){case"katakana":return"normal"===n.mode?i.map(t=>t.reading).join(""):i.map(t=>t.reading).join(" ");case"romaji":var e=t=>{let e;return e=h(t.surface_form)?t.pronunciation||t.reading:t.surface_form,y(e,n.romajiSystem)};return"normal"===n.mode?i.map(e).join(""):i.map(e).join(" ");case"hiragana":for(let r=0;r<i.length;r++)if(f(i[r].surface_form))if(l(i[r].surface_form)){i[r].reading=p(i[r].reading);let n="",e="";for(let t=0;t<i[r].surface_form.length;t++)c(i[r].surface_form[t])?e+="(.*)":e+=S(i[r].surface_form[t])?p(i[r].surface_form[t]):i[r].surface_form[t];var o=new RegExp(e).exec(i[r].reading);if(o){let e=0;for(let t=0;t<i[r].surface_form.length;t++)c(i[r].surface_form[t])?(n+=o[e+1],e++):n+=i[r].surface_form[t];i[r].reading=n}}else i[r].reading=p(i[r].reading);else i[r].reading=i[r].surface_form;return"normal"===n.mode?i.map(t=>t.reading).join(""):i.map(t=>t.reading).join(" ");default:throw new Error("Unknown option.to param")}else if("okurigana"===n.mode||"furigana"===n.mode){var a=[];for(let r=0;r<i.length;r++)switch(g(i[r].surface_form)){case 0:a.push([i[r].surface_form,1,p(i[r].reading),i[r].pronunciation||i[r].reading]);break;case 1:let e="",n=!1;var u=[];for(let t=0;t<i[r].surface_form.length;t++)c(i[r].surface_form[t])?n?u[u.length-1]+=i[r].surface_form[t]:(n=!0,e+="(.+)",u.push(i[r].surface_form[t])):(n=!1,u.push(i[r].surface_form[t]),e+=S(i[r].surface_form[t])?p(i[r].surface_form[t]):i[r].surface_form[t]);var s=new RegExp(`^${e}$`).exec(p(i[r].reading));if(s){let e=1;for(let t=0;t<u.length;t++)c(u[t][0])?(a.push([u[t],1,s[e],d(s[e])]),e+=1):a.push([u[t],2,p(u[t]),d(u[t])])}else a.push([i[r].surface_form,1,p(i[r].reading),i[r].pronunciation||i[r].reading]);break;case 2:for(let t=0;t<i[r].surface_form.length;t++)a.push([i[r].surface_form[t],2,p(i[r].reading[t]),i[r].pronunciation&&i[r].pronunciation[t]||i[r].reading[t]]);break;case 3:for(let t=0;t<i[r].surface_form.length;t++)a.push([i[r].surface_form[t],3,i[r].surface_form[t],i[r].surface_form[t]]);break;default:throw new Error("Unknown strType")}let e="";switch(n.to){case"katakana":if("okurigana"===n.mode)for(let t=0;t<a.length;t++)1!==a[t][1]?e+=a[t][0]:e+=a[t][0]+n.delimiter_start+d(a[t][2])+n.delimiter_end;else for(let t=0;t<a.length;t++)1!==a[t][1]?e+=a[t][0]:e+=`<ruby>${a[t][0]}<rp>${n.delimiter_start}</rp><rt>${d(a[t][2])}</rt><rp>${n.delimiter_end}</rp></ruby>`;return e;case"romaji":if("okurigana"===n.mode)for(let t=0;t<a.length;t++)1!==a[t][1]?e+=a[t][0]:e+=a[t][0]+n.delimiter_start+y(a[t][3],n.romajiSystem)+n.delimiter_end;else{e+="<ruby>";for(let t=0;t<a.length;t++)e+=`${a[t][0]}<rp>${n.delimiter_start}</rp><rt>${y(a[t][3],n.romajiSystem)}</rt><rp>${n.delimiter_end}</rp>`;e+="</ruby>"}return e;case"hiragana":if("okurigana"===n.mode)for(let t=0;t<a.length;t++)1!==a[t][1]?e+=a[t][0]:e+=a[t][0]+n.delimiter_start+a[t][2]+n.delimiter_end;else for(let t=0;t<a.length;t++)1!==a[t][1]?e+=a[t][0]:e+=`<ruby>${a[t][0]}<rp>${n.delimiter_start}</rp><rt>${a[t][2]}</rt><rp>${n.delimiter_end}</rp></ruby>`;return e;default:throw new Error("Invalid Target Syllabary.")}}}};A.Util={isHiragana:a,isKatakana:S,isKana:n,isKanji:c,isJapanese:C,hasHiragana:r,hasKatakana:l,hasKana:function(e){for(let t=0;t<e.length;t++)if(n(e[t]))return!0;return!1},hasKanji:f,hasJapanese:h,kanaToHiragna:N,kanaToKatakana:P,kanaToRomaji:M};var x=A,R=i(o()),E="https://cdn.jsdelivr.net/npm/kuromoji@0.1.2/dict",I="https:/cdn.jsdelivr.net/npm/kuromoji@0.1.2/dict";async function V(){XMLHttpRequest.prototype.patched_open=XMLHttpRequest.prototype.open,XMLHttpRequest.prototype.open=function(t,e){0===e.indexOf(I)?this.patched_open(t,e.replace(I,E)):this.patched_open(t,e)};var t=new x,e=new R.default({dictPath:E});return await t.init(e),t}var z,T,D=i(k("react")),H=i(k("react-dom")),L={settingsContainer:"settings-module__settingsContainer___e9wxn_romajiDconvert",heading:"settings-module__heading___AnER-_romajiDconvert",description:"settings-module__description___dP4fR_romajiDconvert",inputWrapper:"settings-module__inputWrapper___LgOrw_romajiDconvert"},q=class{constructor(t,e,n={}){this.name=t,this.settingsId=e,this.initialSettingsFields=n,this.settingsFields=this.initialSettingsFields,this.setRerender=null,this.buttonClassnames=null,this.pushSettings=async()=>{for(Object.entries(this.settingsFields).forEach(([t,e])=>{"button"!==e.type&&void 0===this.getFieldValue(t)&&this.setFieldValue(t,e.defaultValue)});!Spicetify?.Platform?.History?.listen;)await new Promise(t=>setTimeout(t,100));this.stopHistoryListener&&this.stopHistoryListener(),this.stopHistoryListener=Spicetify.Platform.History.listen(t=>{"/preferences"===t.pathname&&this.render()}),"/preferences"===Spicetify.Platform.History.location.pathname&&await this.render()},this.rerender=()=>{this.setRerender&&this.setRerender(Math.random())},this.render=async()=>{for(;!document.getElementById("desktop.settings.selectLanguage");){if("/preferences"!==Spicetify.Platform.History.location.pathname)return;await new Promise(t=>setTimeout(t,100))}var t=document.querySelector(".main-view-container__scroll-node-child main div");if(!t)return console.error("[spcr-settings] settings container not found");this.buttonClassnames=Array.from(t.querySelectorAll(":scope > button")).at(-1)?.className??null;let e=Array.from(t.children).find(t=>t.id===this.settingsId);e?console.log(e):((e=document.createElement("div")).id=this.settingsId,e.className=L.settingsContainer,t.appendChild(e)),H.default.render(D.default.createElement(this.FieldsContainer,null),e)},this.addButton=(t,e,n,r,i)=>{this.settingsFields[t]={type:"button",description:e,value:n,events:{onClick:r,...i}}},this.addInput=(t,e,n,r,i)=>{this.settingsFields[t]={type:"input",description:e,defaultValue:n,events:{onChange:r,...i}}},this.addHidden=(t,e)=>{this.settingsFields[t]={type:"hidden",defaultValue:e}},this.addToggle=(t,e,n,r,i)=>{this.settingsFields[t]={type:"toggle",description:e,defaultValue:n,events:{onChange:r,...i}}},this.addDropDown=(t,e,n,r,i,o)=>{this.settingsFields[t]={type:"dropdown",description:e,defaultValue:n[r],options:n,events:{onSelect:i,...o}}},this.getFieldValue=t=>JSON.parse(Spicetify.LocalStorage.get(this.settingsId+"."+t)||"{}")?.value,this.setFieldValue=(t,e)=>{Spicetify.LocalStorage.set(this.settingsId+"."+t,JSON.stringify({value:e}))},this.FieldsContainer=()=>{var[t,e]=(0,D.useState)(0);return this.setRerender=e,D.default.createElement("div",{className:L.settingsContainer,key:t},D.default.createElement("h2",{className:["main-shelf-title main-type-cello",L.heading].join(" ")},this.name),Object.entries(this.settingsFields).map(([t,e])=>D.default.createElement(this.Field,{nameId:t,field:e})))},this.Field=n=>{var t=this.settingsId+"."+n.nameId;let e;if(e="button"===n.field.type?n.field.value:this.getFieldValue(n.nameId),"hidden"===n.field.type)return D.default.createElement(D.default.Fragment,null);const[r,i]=(0,D.useState)(e),o=t=>{void 0!==t&&(i(t),this.setFieldValue(n.nameId,t))};return D.default.createElement(D.default.Fragment,null,D.default.createElement("div",{className:"main-type-mesto",style:{color:"var(--spice-subtext)"}},D.default.createElement("label",{className:L.description,htmlFor:t},n.field.description||"")),D.default.createElement("span",{className:["x-settings-secondColumn",L.inputWrapper].join(" ")},"input"===n.field.type?D.default.createElement("input",{className:"main-dropDown-dropDown",id:t,dir:"ltr",value:r,type:"text",...n.field.events,onChange:t=>{o(t.currentTarget.value);var e=n.field.events?.onChange;e&&e(t)}}):"button"===n.field.type?D.default.createElement("span",{className:""},D.default.createElement("button",{id:t,className:this.buttonClassnames??"",...n.field.events,onClick:t=>{o();var e=n.field.events?.onClick;e&&e(t)},type:"button"},r)):"toggle"===n.field.type?D.default.createElement("label",{className:"x-toggle-wrapper x-settings-secondColumn"},D.default.createElement("input",{id:t,className:"x-toggle-input",type:"checkbox",checked:r,...n.field.events,onClick:t=>{o(t.currentTarget.checked);var e=n.field.events?.onClick;e&&e(t)}}),D.default.createElement("span",{className:"x-toggle-indicatorWrapper"},D.default.createElement("span",{className:"x-toggle-indicator"}))):"dropdown"===n.field.type?D.default.createElement("select",{className:"main-dropDown-dropDown",id:t,...n.field.events,onChange:t=>{o(n.field.options[t.currentTarget.selectedIndex]);var e=n.field.events?.onChange;e&&e(t)}},n.field.options.map((t,e)=>D.default.createElement("option",{selected:t===r,value:e+1},t))):D.default.createElement(D.default.Fragment,null)))}}},$=class{constructor(){this.targetSyllabarySettingId="kuroshiro:syllabary",this.conversionModeSettingId="kuroshiro:conversion-mode",this.romajiSystemSettingId="kuroshiro:romaji-system",this.settingsSection=new q("Kuroshiro","settings-kuroshiro"),this.settingsSection.addDropDown(this.targetSyllabarySettingId,"Target syllabary",["Hiragana","Katakana","Romaji"],2,()=>{},{onChange:()=>{this.onTargetSyllabaryChange&&this.onTargetSyllabaryChange()}}),this.settingsSection.addDropDown(this.conversionModeSettingId,"Conversion mode",["Normal","Spaced","Okurigana","Furigana"],1),this.settingsSection.addDropDown(this.romajiSystemSettingId,"Romaji system",["Nippon","Passport","Hepburn"],1),this.settingsSection.pushSettings()}get targetSyllabaryLabel(){var t;return null!=(t=this.settingsSection.getFieldValue(this.targetSyllabarySettingId))?t:"Romaji"}get targetSyllabary(){return this.targetSyllabaryLabel.toLowerCase()}get conversionModeLabel(){var t;return null!=(t=this.settingsSection.getFieldValue(this.conversionModeSettingId))?t:"Spaced"}get conversionMode(){return this.conversionModeLabel.toLowerCase()}get romajiSystemLabel(){var t;return null!=(t=this.settingsSection.getFieldValue(this.romajiSystemSettingId))?t:"Passport"}get romajiSystem(){return this.romajiSystemLabel.toLowerCase()}};function K(){var t,e=document.querySelector('[data-context-menu-open="true"]');if(null===e)return"";let n=null;return n=e.matches(".main-trackList-selected")?null!=(t=null==(t=e.querySelector(".main-trackList-rowTitle"))?void 0:t.textContent)?t:null:e.matches(".main-entityHeader-title")?e.textContent:null!=(e=null==(t=e.matches("a[draggable]")?e:e.querySelector("a[draggable]"))?void 0:t.textContent)?e:null}var O=null,B="",G='<svg xmlns="http://www.w3.org/2000/svg" role="img" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="--darkreader-inline-stroke: currentColor;" data-darkreader-inline-stroke=""><path d="m5 8 6 6"></path><path d="m4 14 6-6 2-3"></path><path d="M2 5h12"></path><path d="M7 2h1"></path><path d="m22 22-5-10-5 10"></path><path d="M14 18h6"></path></svg>';function W(){null!=O&&O.deregister(),(O=new Spicetify.ContextMenu.Item("Convert to "+T.targetSyllabaryLabel,()=>async function(t){t=await z.convert(t,{to:T.targetSyllabary,mode:T.conversionMode,romajiSystem:T.romajiSystem}),Spicetify.showNotification(t)}(B),()=>{var t=K();return B=null!=t?t:"",x.Util.hasJapanese(B)},G)).register()}var Z=async function(){for(;null==Spicetify||!Spicetify.Platform;)await new Promise(t=>setTimeout(t,100));z=await V(),((T=new $).onTargetSyllabaryChange=W)()};(async()=>{await Z()})()})();(async()=>{var t;document.getElementById("romajiDconvert")||((t=document.createElement("style")).id="romajiDconvert",t.textContent=String.raw`
  .settings-module__settingsContainer___e9wxn_romajiDconvert{display:contents}.settings-module__heading___AnER-_romajiDconvert{grid-column:1/-1;font-size:1.125rem;line-height:1.5rem;color:#fff;margin-top:24px}.settings-module__description___dP4fR_romajiDconvert{font-size:.875rem;line-height:1.25rem}.settings-module__inputWrapper___LgOrw_romajiDconvert{display:flex;justify-self:end}
      `.trim(),document.head.appendChild(t))})();